const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/browser.BkaKviuj.js","_astro/index.D0mNDFPE.js"])))=>i.map(i=>d[i]);
import{b as Eu,e as Au,s as ju,l as Ou,i as Ru,d as Iu}from"./chunk-XL46KY3Q.yPoBHZKd.js";import{a as Lu,r as _,R as w,b as Mu,g as Du,c as Uu}from"./index.D0mNDFPE.js";import{_ as Ot}from"./preload-helper.BlTxHScW.js";var Ya=Object.defineProperty,Vu=Object.getOwnPropertyDescriptor,$u=Object.getOwnPropertyNames,Fu=Object.prototype.hasOwnProperty,Bu=(t,e)=>{for(var n in e)Ya(t,n,{get:e[n],enumerable:!0})},Nu=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of $u(e))!Fu.call(t,r)&&r!==n&&Ya(t,r,{get:()=>e[r],enumerable:!(s=Vu(e,r))||s.enumerable});return t},zu=(t,e,n)=>(Nu(t,e,"default"),n),gs={exports:{}},zt={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di;function Wu(){if(Di)return zt;Di=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var a in r)a!=="key"&&(i[a]=r[a])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:o,ref:r!==void 0?r:null,props:i}}return zt.Fragment=e,zt.jsx=n,zt.jsxs=n,zt}var Ui;function qu(){return Ui||(Ui=1,gs.exports=Wu()),gs.exports}var x=qu(),Ku={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},Hu=new Set(["first_factor","second_factor","multi_factor"]),Gu=new Set(["strict_mfa","strict","moderate","lax"]),Ju=t=>typeof t=="number"&&t>0,Yu=t=>Hu.has(t),Xu=t=>Gu.has(t),Vi=t=>t.startsWith("org:")?t:`org:${t}`,Zu=(t,e)=>{const{orgId:n,orgRole:s,orgPermissions:r}=e;return!t.role&&!t.permission||!n||!s||!r?null:t.permission?r.includes(Vi(t.permission)):t.role?s===Vi(t.role):null},$i=(t,e)=>{const{org:n,user:s}=eh(t),[r,i]=e.split(":"),o=i||r;return r==="org"?n.includes(o):r==="user"?s.includes(o):[...n,...s].includes(o)},Qu=(t,e)=>{const{features:n,plans:s}=e;return t.feature&&n?$i(n,t.feature):t.plan&&s?$i(s,t.plan):null},eh=t=>{const e=t?t.split(",").map(n=>n.trim()):[];return{org:e.filter(n=>n.split(":")[0].includes("o")).map(n=>n.split(":")[1]),user:e.filter(n=>n.split(":")[0].includes("u")).map(n=>n.split(":")[1])}},th=t=>{if(!t)return!1;const e=r=>typeof r=="string"?Ku[r]:r,n=typeof t=="string"&&Xu(t),s=typeof t=="object"&&Yu(t.level)&&Ju(t.afterMinutes);return n||s?e.bind(null,t):!1},nh=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;const n=th(t.reverification);if(!n)return null;const{level:s,afterMinutes:r}=n(),[i,o]=e,a=i!==-1?r>i:null,l=o!==-1?r>o:null;switch(s){case"first_factor":return a;case"second_factor":return o!==-1?l:a;case"multi_factor":return o===-1?a:a&&l}},sh=t=>e=>{if(!t.userId)return!1;const n=Qu(e,t),s=Zu(e,t),r=nh(e,t);return[n||s,r].some(i=>i===null)?[n||s,r].some(i=>i===!0):[n||s,r].every(i=>i===!0)},rh=({authObject:{sessionId:t,sessionStatus:e,userId:n,actor:s,orgId:r,orgRole:i,orgSlug:o,signOut:a,getToken:l,has:u,sessionClaims:c},options:{treatPendingAsSignedOut:h=!0}})=>{if(t===void 0&&n===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:t,sessionClaims:void 0,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:a,getToken:l};if(t===null&&n===null)return{isLoaded:!0,isSignedIn:!1,sessionId:t,userId:n,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(h&&e==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(t&&c&&n&&r&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:c,userId:n,actor:s||null,orgId:r,orgRole:i,orgSlug:o||null,has:u,signOut:a,getToken:l};if(t&&c&&n&&!r)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:c,userId:n,actor:s||null,orgId:null,orgRole:null,orgSlug:null,has:u,signOut:a,getToken:l}},ys={exports:{}},vs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi;function ih(){if(Fi)return vs;Fi=1;var t=Lu();function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(h,d){var f=d(),p=s({inst:{value:f,getSnapshot:d}}),g=p[0].inst,y=p[1];return i(function(){g.value=f,g.getSnapshot=d,l(g)&&y({inst:g})},[h,f,d]),r(function(){return l(g)&&y({inst:g}),h(function(){l(g)&&y({inst:g})})},[h]),o(f),f}function l(h){var d=h.getSnapshot;h=h.value;try{var f=d();return!n(h,f)}catch{return!0}}function u(h,d){return d()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return vs.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,vs}var Bi;function oh(){return Bi||(Bi=1,ys.exports=ih()),ys.exports}var Xa=oh();const Za=0,Qa=1,el=2,Ni=3;var zi=Object.prototype.hasOwnProperty;function Zs(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&Zs(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(zi.call(t,n)&&++s&&!zi.call(e,n)||!(n in e)||!Zs(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const Se=new WeakMap,He=()=>{},H=He(),Gn=Object,O=t=>t===H,ge=t=>typeof t=="function",Le=(t,e)=>({...t,...e}),tl=t=>ge(t.then),ws={},xn={},Fr="undefined",gn=typeof window!=Fr,Qs=typeof document!=Fr,ah=gn&&"Deno"in window,lh=()=>gn&&typeof window.requestAnimationFrame!=Fr,ze=(t,e)=>{const n=Se.get(t);return[()=>!O(e)&&t.get(e)||ws,s=>{if(!O(e)){const r=t.get(e);e in xn||(xn[e]=r),n[5](e,Le(r,s),r||ws)}},n[6],()=>!O(e)&&e in xn?xn[e]:!O(e)&&t.get(e)||ws]};let er=!0;const ch=()=>er,[tr,nr]=gn&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[He,He],uh=()=>{const t=Qs&&document.visibilityState;return O(t)||t!=="hidden"},hh=t=>(Qs&&document.addEventListener("visibilitychange",t),tr("focus",t),()=>{Qs&&document.removeEventListener("visibilitychange",t),nr("focus",t)}),dh=t=>{const e=()=>{er=!0,t()},n=()=>{er=!1};return tr("online",e),tr("offline",n),()=>{nr("online",e),nr("offline",n)}},fh={isOnline:ch,isVisible:uh},ph={initFocus:hh,initReconnect:dh},Wi=!w.useId,an=!gn||ah,mh=t=>lh()?window.requestAnimationFrame(t):setTimeout(t,1),Jt=an?_.useEffect:_.useLayoutEffect,_s=typeof navigator<"u"&&navigator.connection,qi=!an&&_s&&(["slow-2g","2g"].includes(_s.effectiveType)||_s.saveData),Cn=new WeakMap,bs=(t,e)=>Gn.prototype.toString.call(t)===`[object ${e}]`;let gh=0;const sr=t=>{const e=typeof t,n=bs(t,"Date"),s=bs(t,"RegExp"),r=bs(t,"Object");let i,o;if(Gn(t)===t&&!n&&!s){if(i=Cn.get(t),i)return i;if(i=++gh+"~",Cn.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=sr(t[o])+",";Cn.set(t,i)}if(r){i="#";const a=Gn.keys(t).sort();for(;!O(o=a.pop());)O(t[o])||(i+=o+":"+sr(t[o])+",");Cn.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Rt=t=>{if(ge(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?sr(t):"",[t,e]};let yh=0;const rr=()=>++yh;async function nl(...t){const[e,n,s,r]=t,i=Le({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{});let o=i.populateCache;const a=i.rollbackOnError;let l=i.optimisticData;const u=d=>typeof a=="function"?a(d):a!==!1,c=i.throwOnError;if(ge(n)){const d=n,f=[],p=e.keys();for(const g of p)!/^\$(inf|sub)\$/.test(g)&&d(e.get(g)._k)&&f.push(g);return Promise.all(f.map(h))}return h(n);async function h(d){const[f]=Rt(d);if(!f)return;const[p,g]=ze(e,f),[y,m,S,v]=Se.get(e),T=()=>{const J=y[f];return(ge(i.revalidate)?i.revalidate(p().data,d):i.revalidate!==!1)&&(delete S[f],delete v[f],J&&J[0])?J[0](el).then(()=>p().data):p().data};if(t.length<3)return T();let b=s,P;const C=rr();m[f]=[C,0];const k=!O(l),R=p(),A=R.data,U=R._c,G=O(U)?A:U;if(k&&(l=ge(l)?l(G,A):l,g({data:l,_c:G})),ge(b))try{b=b(G)}catch(J){P=J}if(b&&tl(b))if(b=await b.catch(J=>{P=J}),C!==m[f][0]){if(P)throw P;return b}else P&&k&&u(P)&&(o=!0,g({data:G,_c:H}));if(o&&!P)if(ge(o)){const J=o(b,G);g({data:J,error:H,_c:H})}else g({data:b,error:H,_c:H});if(m[f][1]=rr(),Promise.resolve(T()).then(()=>{g({_c:H})}),P){if(c)throw P;return}return b}}const Ki=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},sl=(t,e)=>{if(!Se.has(t)){const n=Le(ph,e),s=Object.create(null),r=nl.bind(H,t);let i=He;const o=Object.create(null),a=(c,h)=>{const d=o[c]||[];return o[c]=d,d.push(h),()=>d.splice(d.indexOf(h),1)},l=(c,h,d)=>{t.set(c,h);const f=o[c];if(f)for(const p of f)p(h,d)},u=()=>{if(!Se.has(t)&&(Se.set(t,[s,Object.create(null),Object.create(null),Object.create(null),r,l,a]),!an)){const c=n.initFocus(setTimeout.bind(H,Ki.bind(H,s,Za))),h=n.initReconnect(setTimeout.bind(H,Ki.bind(H,s,Qa)));i=()=>{c&&c(),h&&h(),Se.delete(t)}}};return u(),[t,r,u,i]}return[t,Se.get(t)[4]]},vh=(t,e,n,s,r)=>{const i=n.errorRetryCount,o=r.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!O(i)&&o>i||setTimeout(s,a,r)},wh=Zs,[yn,rl]=sl(new Map),il=Le({onLoadingSlow:He,onSuccess:He,onError:He,onErrorRetry:vh,onDiscarded:He,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:qi?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:qi?5e3:3e3,compare:wh,isPaused:()=>!1,cache:yn,mutate:rl,fallback:{}},fh),ol=(t,e)=>{const n=Le(t,e);if(e){const{use:s,fallback:r}=t,{use:i,fallback:o}=e;s&&i&&(n.use=s.concat(i)),r&&o&&(n.fallback=Le(r,o))}return n},ir=_.createContext({}),_h=t=>{const{value:e}=t,n=_.useContext(ir),s=ge(e),r=_.useMemo(()=>s?e(n):e,[s,n,e]),i=_.useMemo(()=>s?r:ol(n,r),[s,n,r]),o=r&&r.provider,a=_.useRef(H);o&&!a.current&&(a.current=sl(o(i.cache||yn),r));const l=a.current;return l&&(i.cache=l[0],i.mutate=l[1]),Jt(()=>{if(l)return l[2]&&l[2](),l[3]},[]),_.createElement(ir.Provider,Le(t,{value:i}))},al="$inf$",ll=gn&&window.__SWR_DEVTOOLS_USE__,bh=ll?window.__SWR_DEVTOOLS_USE__:[],Sh=()=>{ll&&(window.__SWR_DEVTOOLS_REACT__=w)},cl=t=>ge(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],ul=()=>Le(il,_.useContext(ir)),kh=(t,e)=>{const[n,s]=Rt(t),[,,,r]=Se.get(yn);if(r[n])return r[n];const i=e(s);return r[n]=i,i},Ph=t=>(e,n,s)=>t(e,n&&((...i)=>{const[o]=Rt(e),[,,,a]=Se.get(yn);if(o.startsWith(al))return n(...i);const l=a[o];return O(l)?n(...i):(delete a[o],l)}),s),Th=bh.concat(Ph),xh=t=>function(...n){const s=ul(),[r,i,o]=cl(n),a=ol(s,o);let l=t;const{use:u}=a,c=(u||[]).concat(Th);for(let h=c.length;h--;)l=c[h](l);return l(r,i||a.fetcher||null,a)},Ch=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r>=0&&(s[r]=s[s.length-1],s.pop())}},Eh=(t,e)=>(...n)=>{const[s,r,i]=cl(n),o=(i.use||[]).concat(e);return t(s,r,{...i,use:o})};Sh();const Ah=()=>{},jh=Ah(),or=Object,Hi=t=>t===jh,Oh=t=>typeof t=="function",En=new WeakMap,Ss=(t,e)=>or.prototype.toString.call(t)===`[object ${e}]`;let Rh=0;const ar=t=>{const e=typeof t,n=Ss(t,"Date"),s=Ss(t,"RegExp"),r=Ss(t,"Object");let i,o;if(or(t)===t&&!n&&!s){if(i=En.get(t),i)return i;if(i=++Rh+"~",En.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=ar(t[o])+",";En.set(t,i)}if(r){i="#";const a=or.keys(t).sort();for(;!Hi(o=a.pop());)Hi(t[o])||(i+=o+":"+ar(t[o])+",");En.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Ih=t=>{if(Oh(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?ar(t):"",[t,e]},Lh=t=>Ih(t)[0],ks=w.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Ps={dedupe:!0},Mh=(t,e,n)=>{const{cache:s,compare:r,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:d}=n,[f,p,g,y]=Se.get(s),[m,S]=Rt(t),v=_.useRef(!1),T=_.useRef(!1),b=_.useRef(m),P=_.useRef(e),C=_.useRef(n),k=()=>C.current,R=()=>k().isVisible()&&k().isOnline(),[A,U,G,J]=ze(s,m),Y=_.useRef({}).current,ve=O(o)?O(n.fallback)?H:n.fallback[m]:o,Ue=(V,M)=>{for(const ne in Y){const W=ne;if(W==="data"){if(!r(V[W],M[W])&&(!O(V[W])||!r(Bt,M[W])))return!1}else if(M[W]!==V[W])return!1}return!0},L=_.useMemo(()=>{const V=!m||!e?!1:O(a)?k().isPaused()||i?!1:l!==!1:a,M=ie=>{const je=Le(ie);return delete je._k,V?{isValidating:!0,isLoading:!0,...je}:je},ne=A(),W=J(),we=M(ne),dt=ne===W?we:M(W);let ee=we;return[()=>{const ie=M(A());return Ue(ie,ee)?(ee.data=ie.data,ee.isLoading=ie.isLoading,ee.isValidating=ie.isValidating,ee.error=ie.error,ee):(ee=ie,ie)},()=>dt]},[s,m]),N=Xa.useSyncExternalStore(_.useCallback(V=>G(m,(M,ne)=>{Ue(ne,M)||V()}),[s,m]),L[0],L[1]),Pe=!v.current,Ze=f[m]&&f[m].length>0,Ve=N.data,Q=O(Ve)?ve&&tl(ve)?ks(ve):ve:Ve,ut=N.error,ht=_.useRef(Q),Bt=d?O(Ve)?O(ht.current)?Q:ht.current:Ve:Q,Tn=Ze&&!O(ut)?!1:Pe&&!O(a)?a:k().isPaused()?!1:i?O(Q)?!1:l:O(Q)||l,Oi=!!(m&&e&&Pe&&Tn),Tu=O(N.isValidating)?Oi:N.isValidating,xu=O(N.isLoading)?Oi:N.isLoading,Nt=_.useCallback(async V=>{const M=P.current;if(!m||!M||T.current||k().isPaused())return!1;let ne,W,we=!0;const dt=V||{},ee=!g[m]||!dt.dedupe,ie=()=>Wi?!T.current&&m===b.current&&v.current:m===b.current,je={isValidating:!1,isLoading:!1},Ii=()=>{U(je)},Li=()=>{const fe=g[m];fe&&fe[1]===W&&delete g[m]},Mi={isValidating:!0};O(A().data)&&(Mi.isLoading=!0);try{if(ee&&(U(Mi),n.loadingTimeout&&O(A().data)&&setTimeout(()=>{we&&ie()&&k().onLoadingSlow(m,n)},n.loadingTimeout),g[m]=[M(S),rr()]),[ne,W]=g[m],ne=await ne,ee&&setTimeout(Li,n.dedupingInterval),!g[m]||g[m][1]!==W)return ee&&ie()&&k().onDiscarded(m),!1;je.error=H;const fe=p[m];if(!O(fe)&&(W<=fe[0]||W<=fe[1]||fe[1]===0))return Ii(),ee&&ie()&&k().onDiscarded(m),!1;const Oe=A().data;je.data=r(Oe,ne)?Oe:ne,ee&&ie()&&k().onSuccess(ne,m,n)}catch(fe){Li();const Oe=k(),{shouldRetryOnError:ps}=Oe;Oe.isPaused()||(je.error=fe,ee&&ie()&&(Oe.onError(fe,m,Oe),(ps===!0||ge(ps)&&ps(fe))&&(!k().revalidateOnFocus||!k().revalidateOnReconnect||R())&&Oe.onErrorRetry(fe,m,Oe,Cu=>{const ms=f[m];ms&&ms[0]&&ms[0](Ni,Cu)},{retryCount:(dt.retryCount||0)+1,dedupe:!0})))}return we=!1,Ii(),!0},[m,s]),Ri=_.useCallback((...V)=>nl(s,b.current,...V),[]);if(Jt(()=>{P.current=e,C.current=n,O(Ve)||(ht.current=Ve)}),Jt(()=>{if(!m)return;const V=Nt.bind(H,Ps);let M=0;k().revalidateOnFocus&&(M=Date.now()+k().focusThrottleInterval);const W=Ch(m,f,(we,dt={})=>{if(we==Za){const ee=Date.now();k().revalidateOnFocus&&ee>M&&R()&&(M=ee+k().focusThrottleInterval,V())}else if(we==Qa)k().revalidateOnReconnect&&R()&&V();else{if(we==el)return Nt();if(we==Ni)return Nt(dt)}});return T.current=!1,b.current=m,v.current=!0,U({_k:S}),Tn&&(O(Q)||an?V():mh(V)),()=>{T.current=!0,W()}},[m]),Jt(()=>{let V;function M(){const W=ge(u)?u(A().data):u;W&&V!==-1&&(V=setTimeout(ne,W))}function ne(){!A().error&&(c||k().isVisible())&&(h||k().isOnline())?Nt(Ps).then(M):M()}return M(),()=>{V&&(clearTimeout(V),V=-1)}},[u,c,h,m]),_.useDebugValue(Bt),i&&O(Q)&&m){if(!Wi&&an)throw new Error("Fallback data is required when using Suspense in SSR.");P.current=e,C.current=n,T.current=!1;const V=y[m];if(!O(V)){const M=Ri(V);ks(M)}if(O(ut)){const M=Nt(Ps);O(Bt)||(M.status="fulfilled",M.value=!0),ks(M)}else throw ut}return{mutate:Ri,get data(){return Y.data=!0,Bt},get error(){return Y.error=!0,ut},get isValidating(){return Y.isValidating=!0,Tu},get isLoading(){return Y.isLoading=!0,xu}}},Dh=Gn.defineProperty(_h,"defaultValue",{value:il}),Br=xh(Mh),Uh=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:Dh,default:Br,mutate:rl,preload:kh,unstable_serialize:Lh,useSWRConfig:ul},Symbol.toStringTag,{value:"Module"})),Vh=()=>{},$h=Vh(),lr=Object,Gi=t=>t===$h,Fh=t=>typeof t=="function",An=new WeakMap,Ts=(t,e)=>lr.prototype.toString.call(t)===`[object ${e}]`;let Bh=0;const cr=t=>{const e=typeof t,n=Ts(t,"Date"),s=Ts(t,"RegExp"),r=Ts(t,"Object");let i,o;if(lr(t)===t&&!n&&!s){if(i=An.get(t),i)return i;if(i=++Bh+"~",An.set(t,i),Array.isArray(t)){for(i="@",o=0;o<t.length;o++)i+=cr(t[o])+",";An.set(t,i)}if(r){i="#";const a=lr.keys(t).sort();for(;!Gi(o=a.pop());)Gi(t[o])||(i+=o+":"+cr(t[o])+",");An.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Nh=t=>{if(Fh(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?cr(t):"",[t,e]},zh=t=>Nh(t?t(0,null):null)[0],xs=Promise.resolve(),Wh=t=>(e,n,s)=>{const r=_.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:a=!1,persistSize:l=!1,revalidateFirstPage:u=!0,revalidateOnMount:c=!1,parallel:h=!1}=s,[,,,d]=Se.get(yn);let f;try{f=zh(e),f&&(f=al+f)}catch{}const[p,g,y]=ze(i,f),m=_.useCallback(()=>O(p()._l)?o:p()._l,[i,f,o]);Xa.useSyncExternalStore(_.useCallback(k=>f?y(f,()=>{k()}):()=>{},[i,f]),m,m);const S=_.useCallback(()=>{const k=p()._l;return O(k)?o:k},[f,o]),v=_.useRef(S());Jt(()=>{if(!r.current){r.current=!0;return}f&&g({_l:l?v.current:S()})},[f,i]);const T=c&&!r.current,b=t(f,async k=>{const R=p()._i,A=p()._r;g({_r:H});const U=[],G=S(),[J]=ze(i,k),Y=J().data,ve=[];let Ue=null;for(let L=0;L<G;++L){const[N,Pe]=Rt(e(L,h?null:Ue));if(!N)break;const[Ze,Ve]=ze(i,N);let Q=Ze().data;const ut=a||R||O(Q)||u&&!L&&!O(Y)||T||Y&&!O(Y[L])&&!s.compare(Y[L],Q);if(n&&(typeof A=="function"?A(Q,Pe):ut)){const ht=async()=>{if(!(N in d))Q=await n(Pe);else{const Tn=d[N];delete d[N],Q=await Tn}Ve({data:Q,_k:Pe}),U[L]=Q};h?ve.push(ht):await ht()}else U[L]=Q;h||(Ue=Q)}return h&&await Promise.all(ve.map(L=>L())),g({_i:H}),U},s),P=_.useCallback(function(k,R){const A=typeof R=="boolean"?{revalidate:R}:R||{},U=A.revalidate!==!1;return f?(U&&(O(k)?g({_i:!0,_r:A.revalidate}):g({_i:!1,_r:A.revalidate})),arguments.length?b.mutate(k,{...A,revalidate:U}):b.mutate()):xs},[f,i]),C=_.useCallback(k=>{if(!f)return xs;const[,R]=ze(i,f);let A;if(ge(k)?A=k(S()):typeof k=="number"&&(A=k),typeof A!="number")return xs;R({_l:A}),v.current=A;const U=[],[G]=ze(i,f);let J=null;for(let Y=0;Y<A;++Y){const[ve]=Rt(e(Y,J)),[Ue]=ze(i,ve),L=ve?Ue().data:H;if(O(L))return P(G().data);U.push(L),J=L}return P(U)},[f,i,P,S]);return{size:S(),setSize:C,mutate:P,get data(){return b.data},get error(){return b.error},get isValidating(){return b.isValidating},get isLoading(){return b.isLoading}}},qh=Eh(Br,Wh);var Ji=Object.prototype.hasOwnProperty;function Yi(t,e,n){for(n of t.keys())if(Yt(n,e))return n}function Yt(t,e){var n,s,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&Yt(t[s],e[s]););return s===-1}if(n===Set){if(t.size!==e.size)return!1;for(s of t)if(r=s,r&&typeof r=="object"&&(r=Yi(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(s of t)if(r=s[0],r&&typeof r=="object"&&(r=Yi(e,r),!r)||!Yt(s[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((s=t.byteLength)===e.byteLength)for(;s--&&t.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(t)){if((s=t.byteLength)===e.byteLength)for(;s--&&t[s]===e[s];);return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(Ji.call(t,n)&&++s&&!Ji.call(e,n)||!(n in e)||!Yt(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}function Kh(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var Dt=(t,e)=>{const{assertCtxFn:n=Kh}={},s=w.createContext(void 0);return s.displayName=t,[s,()=>{const o=w.useContext(s);return n(o,`${t} not found`),o.value},()=>{const o=w.useContext(s);return o?o.value:{}}]},Nr={};Bu(Nr,{useSWR:()=>Br,useSWRInfinite:()=>qh});zu(Nr,Uh);var[hl,Hh]=Dt("ClerkInstanceContext"),[Gh,Jh]=Dt("UserContext"),[Yh,X0]=Dt("ClientContext"),[Xh,Z0]=Dt("SessionContext");w.createContext({});var[Zh,Q0]=Dt("OrganizationContext"),Qh=({children:t,organization:e,swrConfig:n})=>w.createElement(Nr.SWRConfig,{value:n},w.createElement(Zh.Provider,{value:{value:{organization:e}}},t));function dl(t){if(!w.useContext(hl)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?w.useLayoutEffect:w.useEffect;function ed(){dl("useUser");const t=Jh();return t===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:t===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}var Xi=Yt,td=()=>{try{return!1}catch{}return!1},nd=()=>{try{return!1}catch{}return!1},sd=()=>{try{return!0}catch{}return!1},Zi=new Set,zr=(t,e,n)=>{const s=nd()||sd(),r=t;Zi.has(r)||s||(Zi.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},xe=Eu({packageName:"@clerk/clerk-react"});function rd(t){xe.setMessages(t).setPackageName(t)}var[id,od]=Dt("AuthContext"),ad=hl,fl=Hh,ld="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",cd=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,ud="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Cs="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",hd="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",dd="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",fd="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",pd="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",md=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,gd=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,yd=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,vd="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",wd="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",_d="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",bd="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",Sd="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",kd="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Pd="Missing props. <UserButton.Action /> component requires the following props: label.",ts=t=>{dl(()=>{xe.throwMissingClerkProviderError({source:t})})},pl=t=>new Promise(e=>{const n=s=>{["ready","degraded"].includes(s)&&(e(),t.off("status",n))};t.on("status",n,{notify:!0})}),Td=t=>async e=>(await pl(t),t.session?t.session.getToken(e):null),xd=t=>async(...e)=>(await pl(t),t.signOut(...e)),ml=(t={})=>{var e,n;ts("useAuth");const{treatPendingAsSignedOut:s,...r}=t??{},i=r;let a=od();a.sessionId===void 0&&a.userId===void 0&&(a=i??{});const l=fl(),u=_.useCallback(Td(l),[l]),c=_.useCallback(xd(l),[l]);return(e=l.telemetry)==null||e.record(Au("useAuth",{treatPendingAsSignedOut:s})),Cd({...a,getToken:u,signOut:c},{treatPendingAsSignedOut:s??((n=l.__internal_getOption)==null?void 0:n.call(l,"treatPendingAsSignedOut"))})};function Cd(t,{treatPendingAsSignedOut:e=!0}={}){const{userId:n,orgId:s,orgRole:r,has:i,signOut:o,getToken:a,orgPermissions:l,factorVerificationAge:u,sessionClaims:c}=t??{},h=_.useCallback(f=>i?i(f):sh({userId:n,orgId:s,orgRole:r,orgPermissions:l,factorVerificationAge:u,features:c?.fea||"",plans:c?.pla||""})(f),[i,n,s,r,l,u]),d=rh({authObject:{...t,getToken:a,signOut:o,has:h},options:{treatPendingAsSignedOut:e}});return d||xe.throw(ud)}var K=(t,e)=>{const s=(typeof e=="string"?e:e?.component)||t.displayName||t.name||"Component";t.displayName=s;const r=typeof e=="string"?void 0:e,i=o=>{ts(s||"withClerk");const a=fl();return!a.loaded&&!r?.renderWhileLoading?null:w.createElement(t,{...o,component:s,clerk:a})};return i.displayName=`withClerk(${s})`,i},Qi=({children:t,treatPendingAsSignedOut:e})=>{ts("SignedIn");const{userId:n}=ml({treatPendingAsSignedOut:e});return n?t:null},Es=({children:t,treatPendingAsSignedOut:e})=>{ts("SignedOut");const{userId:n}=ml({treatPendingAsSignedOut:e});return n===null?t:null};K(({clerk:t,...e})=>{const{client:n,session:s}=t,r=n.signedInSessions?n.signedInSessions.length>0:n.activeSessions&&n.activeSessions.length>0;return w.useEffect(()=>{s===null&&r?t.redirectToAfterSignOut():t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");K(({clerk:t,...e})=>(w.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");K(({clerk:t})=>(w.useEffect(()=>{zr("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");K(({clerk:t})=>(w.useEffect(()=>{zr("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");K(({clerk:t})=>(w.useEffect(()=>{zr("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");K(({clerk:t,...e})=>(w.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");var gl=t=>{throw TypeError(t)},Wr=(t,e,n)=>e.has(t)||gl("Cannot "+n),$=(t,e,n)=>(Wr(t,e,"read from private field"),n?n.call(t):e.get(t)),tt=(t,e,n)=>e.has(t)?gl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ft=(t,e,n,s)=>(Wr(t,e,"write to private field"),e.set(t,n),n),eo=(t,e,n)=>(Wr(t,e,"access private method"),n),ae=t=>{td()&&console.error(`Clerk: ${t}`)};function As(t,e,n){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof n<"u")return n}var Ed=Mu(),to=(t,...e)=>{const n={...t};for(const s of e)delete n[s];return n};function no(){return typeof window<"u"}var so=(t,e,n,s,r)=>{const{notify:i}=r||{};let o=t.get(n);o||(o=[],t.set(n,o)),o.push(s),i&&e.has(n)&&s(e.get(n))},ro=(t,e,n)=>(t.get(e)||[]).map(s=>s(n)),io=(t,e,n)=>{const s=t.get(e);s&&(n?s.splice(s.indexOf(n)>>>0,1):t.set(e,[]))},Ad=()=>{const t=new Map,e=new Map,n=new Map;return{on:(...r)=>so(t,e,...r),prioritizedOn:(...r)=>so(n,e,...r),emit:(r,i)=>{e.set(r,i),ro(n,r,i),ro(t,r,i)},off:(...r)=>io(t,...r),prioritizedOff:(...r)=>io(n,...r),internal:{retrieveListeners:r=>t.get(r)||[]}}},jn={Status:"status"},jd=()=>Ad();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var ns=t=>e=>{try{return w.Children.only(t)}catch{return xe.throw(cd(e))}},ss=(t,e)=>(t||(t=e),typeof t=="string"&&(t=w.createElement("button",null,t)),t),rs=t=>(...e)=>{if(t&&typeof t=="function")return t(...e)};function Od(t){return typeof t=="function"}var On=new Map;function Rd(t,e,n=1){w.useEffect(()=>{const s=On.get(t)||0;return s==n?xe.throw(e):(On.set(t,s+1),()=>{On.set(t,(On.get(t)||1)-1)})},[])}function Id(t,e,n){const s=t.displayName||t.name||e||"Component",r=i=>(Rd(e,n),w.createElement(t,{...i}));return r.displayName=`withMaxAllowedInstancesGuard(${s})`,r}var Xt=t=>{const e=Array(t.length).fill(null),[n,s]=_.useState(e);return t.map((r,i)=>({id:r.id,mount:o=>s(a=>a.map((l,u)=>u===i?o:l)),unmount:()=>s(o=>o.map((a,l)=>l===i?null:a)),portal:()=>w.createElement(w.Fragment,null,n[i]?Ed.createPortal(r.component,n[i]):null)}))},oe=(t,e)=>!!t&&w.isValidElement(t)&&t?.type===e,yl=(t,e)=>_l({children:t,reorderItemsLabels:["account","security"],LinkComponent:wn,PageComponent:vn,MenuItemsComponent:os,componentName:"UserProfile"},e),vl=(t,e)=>_l({children:t,reorderItemsLabels:["general","members"],LinkComponent:ls,PageComponent:as,componentName:"OrganizationProfile"},e),wl=t=>{const e=[],n=[ls,as,os,vn,wn];return w.Children.forEach(t,s=>{n.some(r=>oe(s,r))||e.push(s)}),e},_l=(t,e)=>{const{children:n,LinkComponent:s,PageComponent:r,MenuItemsComponent:i,reorderItemsLabels:o,componentName:a}=t,{allowForAnyChildren:l=!1}=e||{},u=[];w.Children.forEach(n,S=>{if(!oe(S,r)&&!oe(S,s)&&!oe(S,i)){S&&!l&&ae(md(a));return}const{props:v}=S,{children:T,label:b,url:P,labelIcon:C}=v;if(oe(S,r))if(oo(v,o))u.push({label:b});else if(js(v))u.push({label:b,labelIcon:C,children:T,url:P});else{ae(gd(a));return}if(oe(S,s))if(Os(v))u.push({label:b,labelIcon:C,url:P});else{ae(yd(a));return}});const c=[],h=[],d=[];u.forEach((S,v)=>{if(js(S)){c.push({component:S.children,id:v}),h.push({component:S.labelIcon,id:v});return}Os(S)&&d.push({component:S.labelIcon,id:v})});const f=Xt(c),p=Xt(h),g=Xt(d),y=[],m=[];return u.forEach((S,v)=>{if(oo(S,o)){y.push({label:S.label});return}if(js(S)){const{portal:T,mount:b,unmount:P}=f.find(A=>A.id===v),{portal:C,mount:k,unmount:R}=p.find(A=>A.id===v);y.push({label:S.label,url:S.url,mount:b,unmount:P,mountIcon:k,unmountIcon:R}),m.push(T),m.push(C);return}if(Os(S)){const{portal:T,mount:b,unmount:P}=g.find(C=>C.id===v);y.push({label:S.label,url:S.url,mountIcon:b,unmountIcon:P}),m.push(T);return}}),{customPages:y,customPagesPortals:m}},oo=(t,e)=>{const{children:n,label:s,url:r,labelIcon:i}=t;return!n&&!r&&!i&&e.some(o=>o===s)},js=t=>{const{children:e,label:n,url:s,labelIcon:r}=t;return!!e&&!!s&&!!r&&!!n},Os=t=>{const{children:e,label:n,url:s,labelIcon:r}=t;return!e&&!!s&&!!r&&!!n},Ld=t=>Md({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:os,MenuActionComponent:Sl,MenuLinkComponent:kl,UserProfileLinkComponent:wn,UserProfilePageComponent:vn}),Md=({children:t,MenuItemsComponent:e,MenuActionComponent:n,MenuLinkComponent:s,UserProfileLinkComponent:r,UserProfilePageComponent:i,reorderItemsLabels:o})=>{const a=[],l=[],u=[];w.Children.forEach(t,p=>{if(!oe(p,e)&&!oe(p,r)&&!oe(p,i)){p&&ae(vd);return}if(oe(p,r)||oe(p,i))return;const{props:g}=p;w.Children.forEach(g.children,y=>{if(!oe(y,n)&&!oe(y,s)){y&&ae(wd);return}const{props:m}=y,{label:S,labelIcon:v,href:T,onClick:b,open:P}=m;if(oe(y,n))if(ao(m,o))a.push({label:S});else if(Rs(m)){const C={label:S,labelIcon:v};if(b!==void 0)a.push({...C,onClick:b});else if(P!==void 0)a.push({...C,open:P.startsWith("/")?P:`/${P}`});else{ae("Custom menu item must have either onClick or open property");return}}else{ae(Pd);return}if(oe(y,s))if(Is(m))a.push({label:S,labelIcon:v,href:T});else{ae(kd);return}})});const c=[],h=[];a.forEach((p,g)=>{Rs(p)&&c.push({component:p.labelIcon,id:g}),Is(p)&&h.push({component:p.labelIcon,id:g})});const d=Xt(c),f=Xt(h);return a.forEach((p,g)=>{if(ao(p,o)&&l.push({label:p.label}),Rs(p)){const{portal:y,mount:m,unmount:S}=d.find(T=>T.id===g),v={label:p.label,mountIcon:m,unmountIcon:S};"onClick"in p?v.onClick=p.onClick:"open"in p&&(v.open=p.open),l.push(v),u.push(y)}if(Is(p)){const{portal:y,mount:m,unmount:S}=f.find(v=>v.id===g);l.push({label:p.label,href:p.href,mountIcon:m,unmountIcon:S}),u.push(y)}}),{customMenuItems:l,customMenuItemsPortals:u}},ao=(t,e)=>{const{children:n,label:s,onClick:r,labelIcon:i}=t;return!n&&!r&&!i&&e.some(o=>o===s)},Rs=t=>{const{label:e,labelIcon:n,onClick:s,open:r}=t;return!!n&&!!e&&(typeof s=="function"||typeof r=="string")},Is=t=>{const{label:e,href:n,labelIcon:s}=t;return!!n&&!!s&&!!e};function Dd(t){const{root:e=document?.body,selector:n,timeout:s=0}=t;return new Promise((r,i)=>{if(!e){i(new Error("No root element provided"));return}let o=e;if(n&&(o=e?.querySelector(n)),o?.childElementCount&&o.childElementCount>0){r();return}const l=new MutationObserver(u=>{for(const c of u)if(c.type==="childList"&&(!o&&n&&(o=e?.querySelector(n)),o?.childElementCount&&o.childElementCount>0)){l.disconnect(),r();return}});l.observe(e,{childList:!0,subtree:!0}),s>0&&setTimeout(()=>{l.disconnect(),i(new Error("Timeout waiting for element children"))},s)})}function ke(t){const e=_.useRef(),[n,s]=_.useState("rendering");return _.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!e.current&&(e.current=Dd({selector:`[data-clerk-component="${t}"]`}).then(()=>{s("rendered")}).catch(()=>{s("error")}))},[t]),n}var Rn=t=>"mount"in t,lo=t=>"open"in t,co=t=>t?.map(({mountIcon:e,unmountIcon:n,...s})=>s),de=class extends w.PureComponent{constructor(){super(...arguments),this.rootRef=w.createRef()}componentDidUpdate(t){var e,n,s,r;if(!Rn(t)||!Rn(this.props))return;const i=to(t.props,"customPages","customMenuItems","children"),o=to(this.props.props,"customPages","customMenuItems","children"),a=((e=i.customPages)==null?void 0:e.length)!==((n=o.customPages)==null?void 0:n.length),l=((s=i.customMenuItems)==null?void 0:s.length)!==((r=o.customMenuItems)==null?void 0:r.length),u=co(t.props.customMenuItems),c=co(this.props.props.customMenuItems);(!Xi(i,o)||!Xi(u,c)||a||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Rn(this.props)&&this.props.mount(this.rootRef.current,this.props.props),lo(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Rn(this.props)&&this.props.unmount(this.rootRef.current),lo(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return w.createElement(w.Fragment,null,!t&&w.createElement("div",{...e}),this.props.children)}},is=t=>{var e,n;return w.createElement(w.Fragment,null,(e=t?.customPagesPortals)==null?void 0:e.map((s,r)=>_.createElement(s,{key:r})),(n=t?.customMenuItemsPortals)==null?void 0:n.map((s,r)=>_.createElement(s,{key:r})))},Ud=K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function vn({children:t}){return ae(hd),w.createElement(w.Fragment,null,t)}function wn({children:t}){return ae(dd),w.createElement(w.Fragment,null,t)}var Vd=K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=yl(s.children);return w.createElement(w.Fragment,null,i&&n,w.createElement(de,{component:e,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...s,customPages:a},rootProps:o},w.createElement(is,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Vd,{Page:vn,Link:wn});var bl=_.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),$d=K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=yl(s.children,{allowForAnyChildren:!!s.__experimental_asProvider}),u=Object.assign(s.userProfileProps||{},{customPages:a}),{customMenuItems:c,customMenuItemsPortals:h}=Ld(s.children),d=wl(s.children),f={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...s,userProfileProps:u,customMenuItems:c}},p={customPagesPortals:l,customMenuItemsPortals:h};return w.createElement(bl.Provider,{value:f},i&&n,t.loaded&&w.createElement(de,{component:e,...f,hideRootHtmlElement:!!s.__experimental_asProvider,rootProps:o},s.__experimental_asProvider?d:null,w.createElement(is,{...p})))},{component:"UserButton",renderWhileLoading:!0});function os({children:t}){return ae(_d),w.createElement(w.Fragment,null,t)}function Sl({children:t}){return ae(bd),w.createElement(w.Fragment,null,t)}function kl({children:t}){return ae(Sd),w.createElement(w.Fragment,null,t)}function Fd(t){const e=_.useContext(bl),n={...e,props:{...e.props,...t}};return w.createElement(de,{...n})}var uo=Object.assign($d,{UserProfilePage:vn,UserProfileLink:wn,MenuItems:os,Action:Sl,Link:kl,__experimental_Outlet:Fd});function as({children:t}){return ae(fd),w.createElement(w.Fragment,null,t)}function ls({children:t}){return ae(pd),w.createElement(w.Fragment,null,t)}var Bd=K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=vl(s.children);return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...s,customPages:a},rootProps:o},w.createElement(is,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(Bd,{Page:as,Link:ls});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var Pl=_.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Nd=K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=vl(s.children,{allowForAnyChildren:!!s.__experimental_asProvider}),u=Object.assign(s.organizationProfileProps||{},{customPages:a}),c=wl(s.children),h={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...s,organizationProfileProps:u},rootProps:o,component:e};return t.__experimental_prefetchOrganizationSwitcher(),w.createElement(Pl.Provider,{value:h},w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{...h,hideRootHtmlElement:!!s.__experimental_asProvider},s.__experimental_asProvider?c:null,w.createElement(is,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function zd(t){const e=_.useContext(Pl),n={...e,props:{...e.props,...t}};return w.createElement(de,{...n})}Object.assign(Nd,{OrganizationProfilePage:as,OrganizationProfileLink:ls,__experimental_Outlet:zd});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});K(({clerk:t,component:e,fallback:n,...s})=>{const i=ke(e)==="rendering"||!t.loaded,o={...i&&n&&{style:{display:"none"}}};return w.createElement(w.Fragment,null,i&&n,t.loaded&&w.createElement(de,{component:e,mount:t.mountPricingTable,unmount:t.unmountPricingTable,updateProps:t.__unstable__updateProps,props:s,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});K(({clerk:t,children:e,...n})=>{const{signUpFallbackRedirectUrl:s,forceRedirectUrl:r,fallbackRedirectUrl:i,signUpForceRedirectUrl:o,mode:a,initialValues:l,withSignUp:u,oauthFlow:c,...h}=n;e=ss(e,"Sign in");const d=ns(e)("SignInButton"),f=()=>{const y={forceRedirectUrl:r,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:s,signUpForceRedirectUrl:o,initialValues:l,withSignUp:u,oauthFlow:c};return a==="modal"?t.openSignIn({...y,appearance:n.appearance}):t.redirectToSignIn({...y,signInFallbackRedirectUrl:i,signInForceRedirectUrl:r})},g={...h,onClick:async y=>(d&&typeof d=="object"&&"props"in d&&await rs(d.props.onClick)(y),f())};return w.cloneElement(d,g)},{component:"SignInButton",renderWhileLoading:!0});K(({clerk:t,children:e,...n})=>{const{fallbackRedirectUrl:s,forceRedirectUrl:r,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,mode:a,unsafeMetadata:l,initialValues:u,oauthFlow:c,...h}=n;e=ss(e,"Sign up");const d=ns(e)("SignUpButton"),f=()=>{const y={fallbackRedirectUrl:s,forceRedirectUrl:r,signInFallbackRedirectUrl:i,signInForceRedirectUrl:o,unsafeMetadata:l,initialValues:u,oauthFlow:c};return a==="modal"?t.openSignUp({...y,appearance:n.appearance}):t.redirectToSignUp({...y,signUpFallbackRedirectUrl:s,signUpForceRedirectUrl:r})},g={...h,onClick:async y=>(d&&typeof d=="object"&&"props"in d&&await rs(d.props.onClick)(y),f())};return w.cloneElement(d,g)},{component:"SignUpButton",renderWhileLoading:!0});K(({clerk:t,children:e,...n})=>{const{redirectUrl:s="/",signOutOptions:r,...i}=n;e=ss(e,"Sign out");const o=ns(e)("SignOutButton"),a=()=>t.signOut({redirectUrl:s,...r}),u={...i,onClick:async c=>(await rs(o.props.onClick)(c),a())};return w.cloneElement(o,u)},{component:"SignOutButton",renderWhileLoading:!0});K(({clerk:t,children:e,...n})=>{const{redirectUrl:s,...r}=n;e=ss(e,"Sign in with Metamask");const i=ns(e)("SignInWithMetamaskButton"),o=async()=>{async function u(){await t.authenticateWithMetamask({redirectUrl:s||void 0})}u()},l={...r,onClick:async u=>(await rs(i.props.onClick)(u),o())};return w.cloneElement(i,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var Wd={name:"@clerk/clerk-react",version:"5.31.2",environment:"production"},Nn,St,kt,$e,Re,We,zn,ur,Tl=class xl{constructor(e){tt(this,zn),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],tt(this,Nn,"loading"),tt(this,St),tt(this,kt),tt(this,$e),tt(this,Re,jd()),this.buildSignInUrl=r=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(r))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=r=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(r))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...r)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...r))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...r)=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...r))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildAfterSignOutUrl",r)},this.buildNewSubscriptionRedirectUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",r)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",r)},this.buildUserProfileUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildUserProfileUrl",r)},this.buildCreateOrganizationUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildCreateOrganizationUrl",r)},this.buildOrganizationProfileUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildOrganizationProfileUrl",r)},this.buildWaitlistUrl=()=>{const r=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildWaitlistUrl",r)},this.buildUrlWithAuth=r=>{const i=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(r))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("handleUnauthenticated",r)},this.on=(...r)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...r);$(this,Re).on(...r)},this.off=(...r)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...r);$(this,Re).off(...r)},this.addOnLoaded=r=>{this.loadedListeners.push(r),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(r=>r()),this.loadedListeners=[]},this.beforeLoad=r=>{if(!r)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=r=>{var i;if(!r)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=r,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,a)=>{o.nativeUnsubscribe=r.addListener(a)}),(i=$(this,Re).internal.retrieveListeners("status"))==null||i.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&r.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&r.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&r.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSignUp!==null&&r.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&r.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&r.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&r.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&r.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&r.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&r.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,a)=>{r.mountSignIn(a,o)}),this.premountSignUpNodes.forEach((o,a)=>{r.mountSignUp(a,o)}),this.premountUserProfileNodes.forEach((o,a)=>{r.mountUserProfile(a,o)}),this.premountUserButtonNodes.forEach((o,a)=>{r.mountUserButton(a,o)}),this.premountOrganizationListNodes.forEach((o,a)=>{r.mountOrganizationList(a,o)}),this.premountWaitlistNodes.forEach((o,a)=>{r.mountWaitlist(a,o)}),this.premountPricingTableNodes.forEach((o,a)=>{r.mountPricingTable(a,o)}),typeof this.clerkjs.status>"u"&&$(this,Re).emit(jn.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=async r=>{const i=await eo(this,zn,ur).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(r)},this.__experimental_navigateToTask=async r=>this.clerkjs?this.clerkjs.__experimental_navigateToTask(r):Promise.reject(),this.setActive=r=>this.clerkjs?this.clerkjs.setActive(r):Promise.reject(),this.openSignIn=r=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(r):this.preopenSignIn=r},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(r):this.preopenCheckout=r},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(r):this.preopenPlanDetails=r},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openReverification=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(r):this.preopenUserVerification=r},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=r=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(r):this.preopenOneTap=r},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(r):this.preopenUserProfile=r},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(r):this.preopenOrganizationProfile=r},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=r=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(r):this.preopenCreateOrganization=r},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=r=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(r):this.preOpenWaitlist=r},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=r=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(r):this.preopenSignUp=r},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(r,i):this.premountSignInNodes.set(r,i)},this.unmountSignIn=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(r):this.premountSignInNodes.delete(r)},this.mountSignUp=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(r,i):this.premountSignUpNodes.set(r,i)},this.unmountSignUp=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(r):this.premountSignUpNodes.delete(r)},this.mountUserProfile=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(r,i):this.premountUserProfileNodes.set(r,i)},this.unmountUserProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(r):this.premountUserProfileNodes.delete(r)},this.mountOrganizationProfile=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(r,i):this.premountOrganizationProfileNodes.set(r,i)},this.unmountOrganizationProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(r):this.premountOrganizationProfileNodes.delete(r)},this.mountCreateOrganization=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(r,i):this.premountCreateOrganizationNodes.set(r,i)},this.unmountCreateOrganization=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(r):this.premountCreateOrganizationNodes.delete(r)},this.mountOrganizationSwitcher=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(r,i):this.premountOrganizationSwitcherNodes.set(r,i)},this.unmountOrganizationSwitcher=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(r):this.premountOrganizationSwitcherNodes.delete(r)},this.__experimental_prefetchOrganizationSwitcher=()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",r)},this.mountOrganizationList=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(r,i):this.premountOrganizationListNodes.set(r,i)},this.unmountOrganizationList=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(r):this.premountOrganizationListNodes.delete(r)},this.mountUserButton=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(r,i):this.premountUserButtonNodes.set(r,i)},this.unmountUserButton=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(r):this.premountUserButtonNodes.delete(r)},this.mountWaitlist=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(r,i):this.premountWaitlistNodes.set(r,i)},this.unmountWaitlist=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(r):this.premountWaitlistNodes.delete(r)},this.mountPricingTable=(r,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(r,i):this.premountPricingTableNodes.set(r,i)},this.unmountPricingTable=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(r):this.premountPricingTableNodes.delete(r)},this.addListener=r=>{if(this.clerkjs)return this.clerkjs.addListener(r);{const i=()=>{var o;const a=this.premountAddListenerCalls.get(r);a&&((o=a.nativeUnsubscribe)==null||o.call(a),this.premountAddListenerCalls.delete(r))};return this.premountAddListenerCalls.set(r,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(r)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...r)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToUserProfile",r)},this.redirectToAfterSignUp=()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToAfterSignUp",r)},this.redirectToAfterSignIn=()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("redirectToAfterSignIn",r)},this.redirectToAfterSignOut=()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("redirectToAfterSignOut",r)},this.redirectToOrganizationProfile=async()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToOrganizationProfile",r)},this.redirectToCreateOrganization=async()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToCreateOrganization",r)},this.redirectToWaitlist=async()=>{const r=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToWaitlist",r)},this.handleRedirectCallback=async r=>{var i;const o=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleRedirectCallback(r)};this.clerkjs&&this.loaded?(i=o())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(r,i)=>{var o;const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(r,i)};this.clerkjs&&this.loaded?(o=a())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",a)},this.handleEmailLinkVerification=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async r=>(await eo(this,zn,ur).call(this)).authenticateWithGoogleOneTap(r),this.createOrganization=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async r=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...r)=>{const i=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...r)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:n=null,publishableKey:s}=e||{};ft(this,$e,s),ft(this,kt,e?.proxyUrl),ft(this,St,e?.domain),this.options=e,this.Clerk=n,this.mode=no()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=Wd),$(this,Re).emit(jn.Status,"loading"),$(this,Re).prioritizedOn(jn.Status,r=>ft(this,Nn,r)),$(this,$e)&&this.loadClerkJS()}get publishableKey(){return $(this,$e)}get loaded(){var e;return((e=this.clerkjs)==null?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?((e=this.clerkjs)==null?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):$(this,Nn)}static getOrCreateInstance(e){return(!no()||!$(this,We)||e.Clerk&&$(this,We).Clerk!==e.Clerk||$(this,We).publishableKey!==e.publishableKey)&&ft(this,We,new xl(e)),$(this,We)}static clearInstance(){ft(this,We,null)}get domain(){return typeof window<"u"&&window.location?As($(this,St),new URL(window.location.href),""):typeof $(this,St)=="function"?xe.throw(Cs):$(this,St)||""}get proxyUrl(){return typeof window<"u"&&window.location?As($(this,kt),new URL(window.location.href),""):typeof $(this,kt)=="function"?xe.throw(Cs):$(this,kt)||""}__internal_getOption(e){var n,s;return(n=this.clerkjs)!=null&&n.__internal_getOption?(s=this.clerkjs)==null?void 0:s.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?As(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?xe.throw(Cs):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=$(this,$e),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;Od(this.Clerk)?(n=new this.Clerk($(this,$e),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(n),await n.load(this.options)):(n=this.Clerk,n.loaded||(this.beforeLoad(n),await n.load(this.options))),global.Clerk=n}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Ou({...this.options,publishableKey:$(this,$e),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(e=global.Clerk)!=null&&e.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const s=n;$(this,Re).emit(jn.Status,"error"),console.error(s.stack||s.message||s);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var e;return(e=this.clerkjs)==null?void 0:e.billing}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};Nn=new WeakMap;St=new WeakMap;kt=new WeakMap;$e=new WeakMap;Re=new WeakMap;We=new WeakMap;zn=new WeakSet;ur=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};tt(Tl,We);var ho=Tl;function qd(t){const{isomorphicClerkOptions:e,initialState:n,children:s}=t,{isomorphicClerk:r,clerkStatus:i}=Kd(e),[o,a]=w.useState({client:r.client,session:r.session,user:r.user,organization:r.organization});w.useEffect(()=>r.addListener(G=>a({...G})),[]);const l=Iu(r.loaded,o,n),u=w.useMemo(()=>({value:r}),[i]),c=w.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,sessionStatus:d,sessionClaims:f,session:p,userId:g,user:y,orgId:m,actor:S,organization:v,orgRole:T,orgSlug:b,orgPermissions:P,factorVerificationAge:C}=l,k=w.useMemo(()=>({value:{sessionId:h,sessionStatus:d,sessionClaims:f,userId:g,actor:S,orgId:m,orgRole:T,orgSlug:b,orgPermissions:P,factorVerificationAge:C}}),[h,d,g,S,m,T,b,C,f?.__raw]),R=w.useMemo(()=>({value:p}),[h,p]),A=w.useMemo(()=>({value:y}),[g,y]),U=w.useMemo(()=>({value:{organization:v}}),[m,v]);return w.createElement(ad.Provider,{value:u},w.createElement(Yh.Provider,{value:c},w.createElement(Xh.Provider,{value:R},w.createElement(Qh,{...U.value},w.createElement(id.Provider,{value:k},w.createElement(Gh.Provider,{value:A},s))))))}var Kd=t=>{const e=w.useMemo(()=>ho.getOrCreateInstance(t),[]),[n,s]=w.useState(e.status);return w.useEffect(()=>{e.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),w.useEffect(()=>{e.__unstable__updateProps({options:t})},[t.localization]),w.useEffect(()=>(e.on("status",s),()=>e.off("status",s)),[e]),w.useEffect(()=>()=>{ho.clearInstance()},[]),{isomorphicClerk:e,clerkStatus:n}};function Hd(t){const{initialState:e,children:n,__internal_bypassMissingPublishableKey:s,...r}=t,{publishableKey:i="",Clerk:o}=r;return!o&&!s&&(i?i&&!Ru(i)&&xe.throwInvalidPublishableKeyError({key:i}):xe.throwMissingPublishableKeyError()),w.createElement(qd,{initialState:e,isomorphicClerkOptions:r},n)}var Cl=Id(Hd,"ClerkProvider",ld);Cl.displayName="ClerkProvider";rd({packageName:"@clerk/clerk-react"});ju("@clerk/clerk-react");const qr=_.createContext({});function Kr(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hr=typeof window<"u",El=Hr?_.useLayoutEffect:_.useEffect,cs=_.createContext(null);function Gr(t,e){t.indexOf(e)===-1&&t.push(e)}function Jr(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Me=(t,e,n)=>n>e?e:n<t?t:n;let Yr=()=>{};const De={},Al=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jl(t){return typeof t=="object"&&t!==null}const Ol=t=>/^0[^.\s]+$/u.test(t);function Xr(t){let e;return()=>(e===void 0&&(e=t()),e)}const ye=t=>t,Gd=(t,e)=>n=>e(t(n)),_n=(...t)=>t.reduce(Gd),ln=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Zr{constructor(){this.subscriptions=[]}add(e){return Gr(this.subscriptions,e),()=>Jr(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ce=t=>t*1e3,Ee=t=>t/1e3;function Rl(t,e){return e?t*(1e3/e):0}const Il=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Jd=1e-7,Yd=12;function Xd(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=Il(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>Jd&&++a<Yd);return o}function bn(t,e,n,s){if(t===e&&n===s)return ye;const r=i=>Xd(i,0,1,t,n);return i=>i===0||i===1?i:Il(r(i),e,s)}const Ll=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ml=t=>e=>1-t(1-e),Dl=bn(.33,1.53,.69,.99),Qr=Ml(Dl),Ul=Ll(Qr),Vl=t=>(t*=2)<1?.5*Qr(t):.5*(2-Math.pow(2,-10*(t-1))),ei=t=>1-Math.sin(Math.acos(t)),$l=Ml(ei),Fl=Ll(ei),Zd=bn(.42,0,1,1),Qd=bn(0,0,.58,1),Bl=bn(.42,0,.58,1),ef=t=>Array.isArray(t)&&typeof t[0]!="number",Nl=t=>Array.isArray(t)&&typeof t[0]=="number",tf={linear:ye,easeIn:Zd,easeInOut:Bl,easeOut:Qd,circIn:ei,circInOut:Fl,circOut:$l,backIn:Qr,backInOut:Ul,backOut:Dl,anticipate:Vl},nf=t=>typeof t=="string",fo=t=>{if(Nl(t)){Yr(t.length===4);const[e,n,s,r]=t;return bn(e,n,s,r)}else if(nf(t))return tf[t];return t},In=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],po={value:null};function sf(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){o.has(h)&&(c.schedule(h),t()),l++,h(a)}const c={schedule:(h,d=!1,f=!1)=>{const g=f&&r?n:s;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(a=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),e&&po.value&&po.value.frameloop[e].push(l),l=0,n.clear(),r=!1,i&&(i=!1,c.process(h))}};return c}const rf=40;function zl(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=In.reduce((v,T)=>(v[T]=sf(i,e?T:void 0),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=o,g=()=>{const v=De.useManualTiming?r.timestamp:performance.now();n=!1,De.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,rf),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(g))},y=()=>{n=!0,s=!0,r.isProcessing||t(g)};return{schedule:In.reduce((v,T)=>{const b=o[T];return v[T]=(P,C=!1,k=!1)=>(n||y(),b.schedule(P,C,k)),v},{}),cancel:v=>{for(let T=0;T<In.length;T++)o[In[T]].cancel(v)},state:r,steps:o}}const{schedule:B,cancel:Ge,state:te,steps:Ls}=zl(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0);let Wn;function of(){Wn=void 0}const ue={now:()=>(Wn===void 0&&ue.set(te.isProcessing||De.useManualTiming?te.timestamp:performance.now()),Wn),set:t=>{Wn=t,queueMicrotask(of)}},Wl=t=>e=>typeof e=="string"&&e.startsWith(t),ti=Wl("--"),af=Wl("var(--"),ni=t=>af(t)?lf.test(t.split("/*")[0].trim()):!1,lf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ut={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cn={...Ut,transform:t=>Me(0,1,t)},Ln={...Ut,default:1},Zt=t=>Math.round(t*1e5)/1e5,si=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cf(t){return t==null}const uf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ri=(t,e)=>n=>!!(typeof n=="string"&&uf.test(n)&&n.startsWith(t)||e&&!cf(n)&&Object.prototype.hasOwnProperty.call(n,e)),ql=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match(si);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hf=t=>Me(0,255,t),Ms={...Ut,transform:t=>Math.round(hf(t))},it={test:ri("rgb","red"),parse:ql("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ms.transform(t)+", "+Ms.transform(e)+", "+Ms.transform(n)+", "+Zt(cn.transform(s))+")"};function df(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const hr={test:ri("#"),parse:df,transform:it.transform},Sn=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fe=Sn("deg"),Ae=Sn("%"),E=Sn("px"),ff=Sn("vh"),pf=Sn("vw"),mo={...Ae,parse:t=>Ae.parse(t)/100,transform:t=>Ae.transform(t*100)},Tt={test:ri("hsl","hue"),parse:ql("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ae.transform(Zt(e))+", "+Ae.transform(Zt(n))+", "+Zt(cn.transform(s))+")"},se={test:t=>it.test(t)||hr.test(t)||Tt.test(t),parse:t=>it.test(t)?it.parse(t):Tt.test(t)?Tt.parse(t):hr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?it.transform(t):Tt.transform(t)},mf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gf(t){return isNaN(t)&&typeof t=="string"&&(t.match(si)?.length||0)+(t.match(mf)?.length||0)>0}const Kl="number",Hl="color",yf="var",vf="var(",go="${}",wf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function un(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(wf,l=>(se.test(l)?(s.color.push(i),r.push(Hl),n.push(se.parse(l))):l.startsWith(vf)?(s.var.push(i),r.push(yf),n.push(l)):(s.number.push(i),r.push(Kl),n.push(parseFloat(l))),++i,go)).split(go);return{values:n,split:a,indexes:s,types:r}}function Gl(t){return un(t).values}function Jl(t){const{split:e,types:n}=un(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===Kl?i+=Zt(r[o]):a===Hl?i+=se.transform(r[o]):i+=r[o]}return i}}const _f=t=>typeof t=="number"?0:t;function bf(t){const e=Gl(t);return Jl(t)(e.map(_f))}const Je={test:gf,parse:Gl,createTransformer:Jl,getAnimatableNone:bf};function Ds(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Sf({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Ds(l,a,t+1/3),i=Ds(l,a,t),o=Ds(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Jn(t,e){return n=>n>0?e:t}const F=(t,e,n)=>t+(e-t)*n,Us=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},kf=[hr,it,Tt],Pf=t=>kf.find(e=>e.test(t));function yo(t){const e=Pf(t);if(!e)return!1;let n=e.parse(t);return e===Tt&&(n=Sf(n)),n}const vo=(t,e)=>{const n=yo(t),s=yo(e);if(!n||!s)return Jn(t,e);const r={...n};return i=>(r.red=Us(n.red,s.red,i),r.green=Us(n.green,s.green,i),r.blue=Us(n.blue,s.blue,i),r.alpha=F(n.alpha,s.alpha,i),it.transform(r))},dr=new Set(["none","hidden"]);function Tf(t,e){return dr.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xf(t,e){return n=>F(t,e,n)}function ii(t){return typeof t=="number"?xf:typeof t=="string"?ni(t)?Jn:se.test(t)?vo:Af:Array.isArray(t)?Yl:typeof t=="object"?se.test(t)?vo:Cf:Jn}function Yl(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>ii(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function Cf(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=ii(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function Ef(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const Af=(t,e)=>{const n=Je.createTransformer(e),s=un(t),r=un(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?dr.has(t)&&!r.values.length||dr.has(e)&&!s.values.length?Tf(t,e):_n(Yl(Ef(s,r),r.values),n):Jn(t,e)};function Xl(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?F(t,e,n):ii(t)(t,e)}const jf=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>B.update(e,n),stop:()=>Ge(e),now:()=>te.isProcessing?te.timestamp:ue.now()}},Zl=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Yn=2e4;function oi(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Yn;)e+=n,s=t.next(e);return e>=Yn?1/0:e}function Of(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(oi(s),Yn);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Ee(r)}}const Rf=5;function Ql(t,e,n){const s=Math.max(e-Rf,0);return Rl(n-t(s),e-s)}const z={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wo=.001;function If({duration:t=z.duration,bounce:e=z.bounce,velocity:n=z.velocity,mass:s=z.mass}){let r,i,o=1-e;o=Me(z.minDamping,z.maxDamping,o),t=Me(z.minDuration,z.maxDuration,Ee(t)),o<1?(r=u=>{const c=u*o,h=c*t,d=c-n,f=fr(u,o),p=Math.exp(-h);return wo-d/f*p},i=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),g=fr(Math.pow(u,2),o);return(-r(u)+wo>0?-1:1)*((d-f)*p)/g}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-.001+c*h},i=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=Mf(r,i,a);if(t=Ce(t),isNaN(l))return{stiffness:z.stiffness,damping:z.damping,duration:t};{const u=Math.pow(l,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const Lf=12;function Mf(t,e,n){let s=n;for(let r=1;r<Lf;r++)s=s-t(s)/e(s);return s}function fr(t,e){return t*Math.sqrt(1-e*e)}const Df=["duration","bounce"],Uf=["stiffness","damping","mass"];function _o(t,e){return e.some(n=>t[n]!==void 0)}function Vf(t){let e={velocity:z.velocity,stiffness:z.stiffness,damping:z.damping,mass:z.mass,isResolvedFromDuration:!1,...t};if(!_o(t,Uf)&&_o(t,Df))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Me(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:z.mass,stiffness:r,damping:i}}else{const n=If(t);e={...e,...n,mass:z.mass},e.isResolvedFromDuration=!0}return e}function Xn(t=z.visualDuration,e=z.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=Vf({...n,velocity:-Ee(n.velocity||0)}),p=d||0,g=u/(2*Math.sqrt(l*c)),y=o-i,m=Ee(Math.sqrt(l/c)),S=Math.abs(y)<5;s||(s=S?z.restSpeed.granular:z.restSpeed.default),r||(r=S?z.restDelta.granular:z.restDelta.default);let v;if(g<1){const b=fr(m,g);v=P=>{const C=Math.exp(-g*m*P);return o-C*((p+g*m*y)/b*Math.sin(b*P)+y*Math.cos(b*P))}}else if(g===1)v=b=>o-Math.exp(-m*b)*(y+(p+m*y)*b);else{const b=m*Math.sqrt(g*g-1);v=P=>{const C=Math.exp(-g*m*P),k=Math.min(b*P,300);return o-C*((p+g*m*y)*Math.sinh(k)+b*y*Math.cosh(k))/b}}const T={calculatedDuration:f&&h||null,next:b=>{const P=v(b);if(f)a.done=b>=h;else{let C=b===0?p:0;g<1&&(C=b===0?Ce(p):Ql(v,b,P));const k=Math.abs(C)<=s,R=Math.abs(o-P)<=r;a.done=k&&R}return a.value=a.done?o:P,a},toString:()=>{const b=Math.min(oi(T),Yn),P=Zl(C=>T.next(b*C).value,b,30);return b+"ms "+P},toTransition:()=>{}};return T}Xn.applyToOptions=t=>{const e=Of(t,100,Xn);return t.ease=e.ease,t.duration=Ce(e.duration),t.type="keyframes",t};function pr({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=k=>a!==void 0&&k<a||l!==void 0&&k>l,p=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=n*e;const y=h+g,m=o===void 0?y:o(y);m!==y&&(g=m-h);const S=k=>-g*Math.exp(-k/s),v=k=>m+S(k),T=k=>{const R=S(k),A=v(k);d.done=Math.abs(R)<=u,d.value=d.done?m:A};let b,P;const C=k=>{f(d.value)&&(b=k,P=Xn({keyframes:[d.value,p(d.value)],velocity:Ql(v,k,d.value),damping:r,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:k=>{let R=!1;return!P&&b===void 0&&(R=!0,T(k),C(k)),b!==void 0&&k>=b?P.next(k-b):(!R&&T(k),d)}}}function $f(t,e,n){const s=[],r=n||De.mix||Xl,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ye:e;a=_n(l,a)}s.push(a)}return s}function Ff(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Yr(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=$f(e,s,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=ln(t[h],t[h+1],c);return a[h](d)};return n?c=>u(Me(t[0],t[i-1],c)):u}function Bf(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=ln(0,e,s);t.push(F(n,1,r))}}function Nf(t){const e=[0];return Bf(e,t.length-1),e}function zf(t,e){return t.map(n=>n*e)}function Wf(t,e){return t.map(()=>e||Bl).splice(0,t.length-1)}function Qt({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=ef(s)?s.map(fo):fo(s),i={done:!1,value:e[0]},o=zf(n&&n.length===e.length?n:Nf(e),t),a=Ff(o,e,{ease:Array.isArray(r)?r:Wf(e,r)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const qf=t=>t!==null;function ai(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(qf),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const Kf={decay:pr,inertia:pr,tween:Qt,keyframes:Qt,spring:Xn};function ec(t){typeof t.type=="string"&&(t.type=Kf[t.type])}class li{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Hf=t=>t/100;class ci extends li{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==ue.now()&&this.tick(ue.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ec(e);const{type:n=Qt,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Qt;l!==Qt&&typeof a[0]!="number"&&(this.mixKeyframes=_n(Hf,Xl(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=oi(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?m<0:m>r;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,T=s;if(h){const k=Math.min(this.currentTime,r)/a;let R=Math.floor(k),A=k%1;!A&&k>=1&&(A=1),A===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(d==="reverse"?(A=1-A,f&&(A-=f/a)):d==="mirror"&&(T=o)),v=Me(0,1,A)*a}const b=S?{done:!1,value:c[0]}:T.next(v);i&&(b.value=i(b.value));let{done:P}=b;!S&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&p!==pr&&(b.value=ai(c,this.options,y,this.speed)),g&&g(b.value),C&&this.finish(),b}then(e,n){return this.finished.then(e,n)}get duration(){return Ee(this.calculatedDuration)}get time(){return Ee(this.currentTime)}set time(e){e=Ce(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ue.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ee(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=jf,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ue.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Gf(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ot=t=>t*180/Math.PI,mr=t=>{const e=ot(Math.atan2(t[1],t[0]));return gr(e)},Jf={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mr,rotateZ:mr,skewX:t=>ot(Math.atan(t[1])),skewY:t=>ot(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gr=t=>(t=t%360,t<0&&(t+=360),t),bo=mr,So=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ko=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Yf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:So,scaleY:ko,scale:t=>(So(t)+ko(t))/2,rotateX:t=>gr(ot(Math.atan2(t[6],t[5]))),rotateY:t=>gr(ot(Math.atan2(-t[2],t[0]))),rotateZ:bo,rotate:bo,skewX:t=>ot(Math.atan(t[4])),skewY:t=>ot(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yr(t){return t.includes("scale")?1:0}function vr(t,e){if(!t||t==="none")return yr(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Yf,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Jf,r=a}if(!r)return yr(e);const i=s[e],o=r[1].split(",").map(Zf);return typeof i=="function"?i(o):o[i]}const Xf=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vr(n,e)};function Zf(t){return parseFloat(t.trim())}const Vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$t=new Set(Vt),Po=t=>t===Ut||t===E,Qf=new Set(["x","y","z"]),ep=Vt.filter(t=>!Qf.has(t));function tp(t){const e=[];return ep.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const at={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vr(e,"x"),y:(t,{transform:e})=>vr(e,"y")};at.translateX=at.x;at.translateY=at.y;const lt=new Set;let wr=!1,_r=!1,br=!1;function tc(){if(_r){const t=Array.from(lt).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=tp(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}_r=!1,wr=!1,lt.forEach(t=>t.complete(br)),lt.clear()}function nc(){lt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_r=!0)})}function np(){br=!0,nc(),tc(),br=!1}class ui{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lt.add(this),wr||(wr=!0,B.read(nc),B.resolveKeyframes(tc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}Gf(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lt.delete(this)}cancel(){this.state==="scheduled"&&(lt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sp=t=>t.startsWith("--");function rp(t,e,n){sp(e)?t.style.setProperty(e,n):t.style[e]=n}const ip=Xr(()=>window.ScrollTimeline!==void 0),op={};function ap(t,e){const n=Xr(t);return()=>op[e]??n()}const sc=ap(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ht=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,To={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ht([0,.65,.55,1]),circOut:Ht([.55,0,1,.45]),backIn:Ht([.31,.01,.66,-.59]),backOut:Ht([.33,1.53,.69,.99])};function rc(t,e){if(t)return typeof t=="function"?sc()?Zl(t,e):"ease-out":Nl(t)?Ht(t):Array.isArray(t)?t.map(n=>rc(n,e)||To.easeOut):To[t]}function lp(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const h=rc(a,r);Array.isArray(h)&&(c.easing=h);const d={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function ic(t){return typeof t=="function"&&"applyToOptions"in t}function cp({type:t,...e}){return ic(t)&&sc()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class up extends li{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Yr(typeof e.type!="string");const u=cp(e);this.animation=lp(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=ai(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):rp(n,s,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ee(Number(e))}get time(){return Ee(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ce(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ip()?(this.animation.timeline=e,ye):n(this)}}const oc={anticipate:Vl,backInOut:Ul,circInOut:Fl};function hp(t){return t in oc}function dp(t){typeof t.ease=="string"&&hp(t.ease)&&(t.ease=oc[t.ease])}const xo=10;class fp extends up{constructor(e){dp(e),ec(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new ci({...o,autoplay:!1}),l=Ce(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-xo).value,a.sample(l).value,xo),a.stop()}}const Co=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Je.test(t)||t==="0")&&!t.startsWith("url("));function pp(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mp(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Co(r,e),a=Co(i,e);return!o||!a?!1:pp(t)||(n==="spring"||ic(n))&&s}function hi(t){return jl(t)&&"offsetHeight"in t}const gp=new Set(["opacity","clipPath","filter","transform"]),yp=Xr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vp(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!hi(e?.owner?.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return yp()&&n&&gp.has(n)&&(n!=="transform"||!l)&&!a&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const wp=40;class _p extends li{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ue.now();const d={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...h},f=c?.KeyframeResolver||ui;this.keyframeResolver=new f(a,(p,g,y)=>this.onKeyframesResolved(p,g,d,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=s;this.resolvedAt=ue.now(),mp(e,i,o,a)||((De.instantAnimations||!l)&&c?.(ai(e,s,n)),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>wp?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},f=!u&&vp(d)?new fp({...d,element:d.motionValue.owner.current}):new ci(d);f.finished.then(()=>this.notifyFinished()).catch(ye),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),np()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const bp=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sp(t){const e=bp.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function ac(t,e,n=1){const[s,r]=Sp(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return Al(o)?parseFloat(o):o}return ni(r)?ac(r,e,n+1):r}function di(t,e){return t?.[e]??t?.default??t}const lc=new Set(["width","height","top","left","right","bottom",...Vt]),kp={test:t=>t==="auto",parse:t=>t},cc=t=>e=>e.test(t),uc=[Ut,E,Ae,Fe,pf,ff,kp],Eo=t=>uc.find(cc(t));function Pp(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ol(t):!0}const Tp=new Set(["brightness","contrast","saturate","opacity"]);function xp(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(si)||[];if(!s)return t;const r=n.replace(s,"");let i=Tp.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const Cp=/\b([a-z-]*)\(.*?\)/gu,Sr={...Je,getAnimatableNone:t=>{const e=t.match(Cp);return e?e.map(xp).join(" "):t}},Ao={...Ut,transform:Math.round},Ep={rotate:Fe,rotateX:Fe,rotateY:Fe,rotateZ:Fe,scale:Ln,scaleX:Ln,scaleY:Ln,scaleZ:Ln,skew:Fe,skewX:Fe,skewY:Fe,distance:E,translateX:E,translateY:E,translateZ:E,x:E,y:E,z:E,perspective:E,transformPerspective:E,opacity:cn,originX:mo,originY:mo,originZ:E},fi={borderWidth:E,borderTopWidth:E,borderRightWidth:E,borderBottomWidth:E,borderLeftWidth:E,borderRadius:E,radius:E,borderTopLeftRadius:E,borderTopRightRadius:E,borderBottomRightRadius:E,borderBottomLeftRadius:E,width:E,maxWidth:E,height:E,maxHeight:E,top:E,right:E,bottom:E,left:E,padding:E,paddingTop:E,paddingRight:E,paddingBottom:E,paddingLeft:E,margin:E,marginTop:E,marginRight:E,marginBottom:E,marginLeft:E,backgroundPositionX:E,backgroundPositionY:E,...Ep,zIndex:Ao,fillOpacity:cn,strokeOpacity:cn,numOctaves:Ao},Ap={...fi,color:se,backgroundColor:se,outlineColor:se,fill:se,stroke:se,borderColor:se,borderTopColor:se,borderRightColor:se,borderBottomColor:se,borderLeftColor:se,filter:Sr,WebkitFilter:Sr},hc=t=>Ap[t];function dc(t,e){let n=hc(t);return n!==Sr&&(n=Je),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jp=new Set(["auto","none","0"]);function Op(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!jp.has(i)&&un(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=dc(n,r)}class Rp extends ui{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),ni(u))){const c=ac(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!lc.has(s)||e.length!==2)return;const[r,i]=e,o=Eo(r),a=Eo(i);if(o!==a)if(Po(o)&&Po(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else at[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||Pp(e[r]))&&s.push(r);s.length&&Op(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=at[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=at[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function Ip(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=n?.[t]??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const jo=30,Lp=t=>!isNaN(parseFloat(t));class Mp{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=ue.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();r&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ue.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lp(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zr);const s=this.events[e].add(n);return e==="change"?()=>{s(),B.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ue.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jo)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jo);return Rl(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function It(t,e){return new Mp(t,e)}const fc=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:pi}=zl(queueMicrotask,!1),_e={x:!1,y:!1};function pc(){return _e.x||_e.y}function Dp(t){return t==="x"||t==="y"?_e[t]?null:(_e[t]=!0,()=>{_e[t]=!1}):_e.x||_e.y?null:(_e.x=_e.y=!0,()=>{_e.x=_e.y=!1})}function mc(t,e){const n=Ip(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function Oo(t){return!(t.pointerType==="touch"||pc())}function Up(t,e,n={}){const[s,r,i]=mc(t,n),o=a=>{if(!Oo(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{Oo(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const gc=(t,e)=>e?t===e?!0:gc(t,e.parentElement):!1,mi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Vp=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $p(t){return Vp.has(t.tagName)||t.tabIndex!==-1}const qn=new WeakSet;function Ro(t){return e=>{e.key==="Enter"&&t(e)}}function Vs(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Fp=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ro(()=>{if(qn.has(n))return;Vs(n,"down");const r=Ro(()=>{Vs(n,"up")}),i=()=>Vs(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Io(t){return mi(t)&&!pc()}function Bp(t,e,n={}){const[s,r,i]=mc(t,n),o=a=>{const l=a.currentTarget;if(!Io(a))return;qn.add(l);const u=e(l,a),c=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),qn.has(l)&&qn.delete(l),Io(f)&&typeof u=="function"&&u(f,{success:p})},h=f=>{c(f,l===window||l===document||n.useGlobalTarget||gc(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),hi(a)&&(a.addEventListener("focus",u=>Fp(u,r)),!$p(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function yc(t){return jl(t)&&"ownerSVGElement"in t}function Np(t){return yc(t)&&t.tagName==="svg"}const re=t=>!!(t&&t.getVelocity),zp=[...uc,se,Je],Wp=t=>zp.find(cc(t)),gi=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qp extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=hi(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Kp({children:t,isPresent:e,anchorX:n}){const s=_.useId(),r=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(gi);return _.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:c,right:h}=i.current;if(e||!r.current||!a||!l)return;const d=n==="left"?`left: ${c}`:`right: ${h}`;r.current.dataset.motionPopId=s;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${d}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(f)&&document.head.removeChild(f)}},[e]),x.jsx(qp,{isPresent:e,childRef:r,sizeRef:i,children:_.cloneElement(t,{ref:r})})}const Hp=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=Kr(Gp),u=_.useId();let c=!0,h=_.useMemo(()=>(c=!1,{id:u,initial:e,isPresent:n,custom:r,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),[n,l,s]);return i&&c&&(h={...h}),_.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),_.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=x.jsx(Kp,{isPresent:n,anchorX:a,children:t})),x.jsx(cs.Provider,{value:h,children:t})};function Gp(){return new Map}function vc(t=!0){const e=_.useContext(cs);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=_.useId();_.useEffect(()=>{if(t)return r(i)},[t]);const o=_.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const Mn=t=>t.key||"";function Lo(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const wc=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,u]=vc(o),c=_.useMemo(()=>Lo(t),[t]),h=o&&!l?[]:c.map(Mn),d=_.useRef(!0),f=_.useRef(c),p=Kr(()=>new Map),[g,y]=_.useState(c),[m,S]=_.useState(c);El(()=>{d.current=!1,f.current=c;for(let b=0;b<m.length;b++){const P=Mn(m[b]);h.includes(P)?p.delete(P):p.get(P)!==!0&&p.set(P,!1)}},[m,h.length,h.join("-")]);const v=[];if(c!==g){let b=[...c];for(let P=0;P<m.length;P++){const C=m[P],k=Mn(C);h.includes(k)||(b.splice(P,0,C),v.push(C))}return i==="wait"&&v.length&&(b=v),S(Lo(b)),y(c),null}const{forceRender:T}=_.useContext(qr);return x.jsx(x.Fragment,{children:m.map(b=>{const P=Mn(b),C=o&&!l?!1:c===m||h.includes(P),k=()=>{if(p.has(P))p.set(P,!0);else return;let R=!0;p.forEach(A=>{A||(R=!1)}),R&&(T?.(),S(f.current),o&&u?.(),s&&s())};return x.jsx(Hp,{isPresent:C,initial:!d.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,onExitComplete:C?void 0:k,anchorX:a,children:b},P)})})},_c=_.createContext({strict:!1}),Mo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lt={};for(const t in Mo)Lt[t]={isEnabled:e=>Mo[t].some(n=>!!e[n])};function Jp(t){for(const e in t)Lt[e]={...Lt[e],...t[e]}}const Yp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zn(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yp.has(t)}let bc=t=>!Zn(t);function Xp(t){t&&(bc=e=>e.startsWith("on")?!Zn(e):t(e))}try{Xp(require("@emotion/is-prop-valid").default)}catch{}function Zp(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(bc(r)||n===!0&&Zn(r)||!e&&!Zn(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Qp(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const us=_.createContext({});function hs(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function hn(t){return typeof t=="string"||Array.isArray(t)}const yi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vi=["initial",...yi];function ds(t){return hs(t.animate)||vi.some(e=>hn(t[e]))}function Sc(t){return!!(ds(t)||t.variants)}function em(t,e){if(ds(t)){const{initial:n,animate:s}=t;return{initial:n===!1||hn(n)?n:void 0,animate:hn(s)?s:void 0}}return t.inherit!==!1?e:{}}function tm(t){const{initial:e,animate:n}=em(t,_.useContext(us));return _.useMemo(()=>({initial:e,animate:n}),[Do(e),Do(n)])}function Do(t){return Array.isArray(t)?t.join(" "):t}const nm=Symbol.for("motionComponentSymbol");function xt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sm(t,e,n){return _.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):xt(n)&&(n.current=s))},[e])}const wi=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rm="framerAppearId",kc="data-"+wi(rm),Pc=_.createContext({});function im(t,e,n,s,r){const{visualElement:i}=_.useContext(us),o=_.useContext(_c),a=_.useContext(cs),l=_.useContext(gi).reducedMotion,u=_.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=_.useContext(Pc);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&om(u.current,n,r,h);const d=_.useRef(!1);_.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const f=n[kc],p=_.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return El(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),pi.render(c.render),p.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1))}),c}function om(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Tc(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&xt(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:l,layoutRoot:u})}function Tc(t){if(t)return t.options.allowProjection!==!1?t.projection:Tc(t.parent)}function am({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Jp(t);function i(a,l){let u;const c={..._.useContext(gi),...a,layoutId:lm(a)},{isStatic:h}=c,d=tm(a),f=s(a,h);if(!h&&Hr){cm();const p=um(c);u=p.MeasureLayout,d.visualElement=im(r,f,c,e,p.ProjectionNode)}return x.jsxs(us.Provider,{value:d,children:[u&&d.visualElement?x.jsx(u,{visualElement:d.visualElement,...c}):null,n(r,a,sm(f,d.visualElement,l),f,h,d.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=_.forwardRef(i);return o[nm]=r,o}function lm({layoutId:t}){const e=_.useContext(qr).id;return e&&t!==void 0?e+"-"+t:t}function cm(t,e){_.useContext(_c).strict}function um(t){const{drag:e,layout:n}=Lt;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const dn={};function hm(t){for(const e in t)dn[e]=t[e],ti(e)&&(dn[e].isCSSVariable=!0)}function xc(t,{layout:e,layoutId:n}){return $t.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dn[t]||t==="opacity")}const dm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fm=Vt.length;function pm(t,e,n){let s="",r=!0;for(let i=0;i<fm;i++){const o=Vt[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=fc(a,fi[o]);if(!l){r=!1;const c=dm[o]||o;s+=`${c}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function _i(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if($t.has(l)){o=!0;continue}else if(ti(l)){r[l]=u;continue}else{const c=fc(u,fi[l]);l.startsWith("origin")?(a=!0,i[l]=c):s[l]=c}}if(e.transform||(o||n?s.transform=pm(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;s.transformOrigin=`${l} ${u} ${c}`}}const bi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cc(t,e,n){for(const s in e)!re(e[s])&&!xc(s,n)&&(t[s]=e[s])}function mm({transformTemplate:t},e){return _.useMemo(()=>{const n=bi();return _i(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gm(t,e){const n=t.style||{},s={};return Cc(s,n,t),Object.assign(s,mm(t,e)),s}function ym(t,e){const n={},s=gm(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const vm={offset:"stroke-dashoffset",array:"stroke-dasharray"},wm={offset:"strokeDashoffset",array:"strokeDasharray"};function _m(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?vm:wm;t[i.offset]=E.transform(-s);const o=E.transform(e),a=E.transform(n);t[i.array]=`${o} ${a}`}function Ec(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(_i(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&_m(h,r,i,o,!1)}const Ac=()=>({...bi(),attrs:{}}),jc=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bm(t,e,n,s){const r=_.useMemo(()=>{const i=Ac();return Ec(i,e,jc(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Cc(i,t.style,t),r.style={...i,...r.style}}return r}const Sm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Si(t){return typeof t!="string"||t.includes("-")?!1:!!(Sm.indexOf(t)>-1||/[A-Z]/u.test(t))}function km(t=!1){return(n,s,r,{latestValues:i},o)=>{const l=(Si(n)?bm:ym)(s,i,o,n),u=Zp(s,typeof n=="string",t),c=n!==_.Fragment?{...u,...l,ref:r}:{},{children:h}=s,d=_.useMemo(()=>re(h)?h.get():h,[h]);return _.createElement(n,{...c,children:d})}}function Uo(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function ki(t,e,n,s){if(typeof e=="function"){const[r,i]=Uo(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Uo(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Kn(t){return re(t)?t.get():t}function Pm({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Tm(n,s,r,t),renderState:e()}}const Oc=t=>(e,n)=>{const s=_.useContext(us),r=_.useContext(cs),i=()=>Pm(t,e,s,r);return n?i():Kr(i)};function Tm(t,e,n,s){const r={},i=s(t,{});for(const d in i)r[d]=Kn(i[d]);let{initial:o,animate:a}=t;const l=ds(t),u=Sc(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!hs(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const p=ki(t,d[f]);if(p){const{transitionEnd:g,transition:y,...m}=p;for(const S in m){let v=m[S];if(Array.isArray(v)){const T=c?v.length-1:0;v=v[T]}v!==null&&(r[S]=v)}for(const S in g)r[S]=g[S]}}}return r}function Pi(t,e,n){const{style:s}=t,r={};for(const i in s)(re(s[i])||e.style&&re(e.style[i])||xc(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(r[i]=s[i]);return r}const xm={useVisualState:Oc({scrapeMotionValuesFromProps:Pi,createRenderState:bi})};function Rc(t,e,n){const s=Pi(t,e,n);for(const r in t)if(re(t[r])||re(e[r])){const i=Vt.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Cm={useVisualState:Oc({scrapeMotionValuesFromProps:Rc,createRenderState:Ac})};function Em(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Si(s)?Cm:xm,preloadedFeatures:t,useRender:km(r),createVisualElement:e,Component:s};return am(o)}}function fn(t,e,n){const s=t.getProps();return ki(s,e,n!==void 0?n:s.custom,t)}const kr=t=>Array.isArray(t);function Am(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,It(n))}function jm(t){return kr(t)?t[t.length-1]||0:t}function Om(t,e){const n=fn(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=jm(i[o]);Am(t,o,a)}}function Rm(t){return!!(re(t)&&t.add)}function Pr(t,e){const n=t.getValue("willChange");if(Rm(n))return n.add(e);if(!n&&De.WillChange){const s=new De.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ic(t){return t.props[kc]}const Im=t=>t!==null;function Lm(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Im),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const Mm={type:"spring",stiffness:500,damping:25,restSpeed:10},Dm=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Um={type:"keyframes",duration:.8},Vm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$m=(t,{keyframes:e})=>e.length>2?Um:$t.has(t)?t.startsWith("scale")?Dm(e[1]):Mm:Vm;function Fm({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Ti=(t,e,n,s={},r,i)=>o=>{const a=di(s,t)||{},l=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Ce(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};Fm(a)||Object.assign(c,$m(t,c)),c.duration&&(c.duration=Ce(c.duration)),c.repeatDelay&&(c.repeatDelay=Ce(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),(De.instantAnimations||De.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const d=Lm(c.keyframes,a);if(d!==void 0){B.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new ci(c):new _p(c)};function Bm({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Lc(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&Bm(u,c))continue;const f={delay:n,...di(i||{},c)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===p&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const m=Ic(t);if(m){const S=window.MotionHandoffAnimation(m,c,B);S!==null&&(f.startTime=S,g=!0)}}Pr(t,c),h.start(Ti(c,h,d,t.shouldReduceMotion&&lc.has(c)?{type:!1}:f,t,g));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{B.update(()=>{o&&Om(t,o)})}),l}function Tr(t,e,n={}){const s=fn(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(Lc(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=r;return Nm(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Nm(t,e,n=0,s=0,r=1,i){const o=[],a=(t.variantChildren.size-1)*s,l=r===1?(u=0)=>u*s:(u=0)=>a-u*s;return Array.from(t.variantChildren).sort(zm).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Tr(u,e,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function zm(t,e){return t.sortNodePosition(e)}function Wm(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Tr(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Tr(t,e,n);else{const r=typeof e=="function"?fn(t,e,n.custom):e;s=Promise.all(Lc(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Mc(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const qm=vi.length;function Dc(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Dc(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qm;n++){const s=vi[n],r=t.props[s];(hn(r)||r===!1)&&(e[s]=r)}return e}const Km=[...yi].reverse(),Hm=yi.length;function Gm(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Wm(t,n,s)))}function Jm(t){let e=Gm(t),n=Vo(),s=!0;const r=l=>(u,c)=>{const h=fn(t,c,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:f,...p}=h;u={...u,...p,...f}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,c=Dc(t.parent)||{},h=[],d=new Set;let f={},p=1/0;for(let y=0;y<Hm;y++){const m=Km[y],S=n[m],v=u[m]!==void 0?u[m]:c[m],T=hn(v),b=m===l?S.isActive:null;b===!1&&(p=y);let P=v===c[m]&&v!==u[m]&&T;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...f},!S.isActive&&b===null||!v&&!S.prevProp||hs(v)||typeof v=="boolean")continue;const C=Ym(S.prevProp,v);let k=C||m===l&&S.isActive&&!P&&T||y>p&&T,R=!1;const A=Array.isArray(v)?v:[v];let U=A.reduce(r(m),{});b===!1&&(U={});const{prevResolvedValues:G={}}=S,J={...G,...U},Y=L=>{k=!0,d.has(L)&&(R=!0,d.delete(L)),S.needsAnimating[L]=!0;const N=t.getValue(L);N&&(N.liveStyle=!1)};for(const L in J){const N=U[L],Pe=G[L];if(f.hasOwnProperty(L))continue;let Ze=!1;kr(N)&&kr(Pe)?Ze=!Mc(N,Pe):Ze=N!==Pe,Ze?N!=null?Y(L):d.add(L):N!==void 0&&d.has(L)?Y(L):S.protectedKeys[L]=!0}S.prevProp=v,S.prevResolvedValues=U,S.isActive&&(f={...f,...U}),s&&t.blockInitialAnimation&&(k=!1),k&&(!(P&&C)||R)&&h.push(...A.map(L=>({animation:L,options:{type:m}})))}if(d.size){const y={};if(typeof u.initial!="boolean"){const m=fn(t,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(y.transition=m.transition)}d.forEach(m=>{const S=t.getBaseTarget(m),v=t.getValue(m);v&&(v.liveStyle=!0),y[m]=S??null}),h.push({animation:y})}let g=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),s=!1,g?e(h):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Vo(),s=!0}}}function Ym(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mc(e,t):!1}function Qe(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vo(){return{animate:Qe(!0),whileInView:Qe(),whileHover:Qe(),whileTap:Qe(),whileDrag:Qe(),whileFocus:Qe(),exit:Qe()}}class Ye{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Xm extends Ye{constructor(e){super(e),e.animationState||(e.animationState=Jm(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hs(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Zm=0;class Qm extends Ye{constructor(){super(...arguments),this.id=Zm++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eg={animation:{Feature:Xm},exit:{Feature:Qm}};function pn(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function kn(t){return{point:{x:t.pageX,y:t.pageY}}}const tg=t=>e=>mi(e)&&t(e,kn(e));function en(t,e,n,s){return pn(t,e,tg(n),s)}function Uc({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function ng({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sg(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Vc=1e-4,rg=1-Vc,ig=1+Vc,$c=.01,og=0-$c,ag=0+$c;function le(t){return t.max-t.min}function lg(t,e,n){return Math.abs(t-e)<=n}function $o(t,e,n,s=.5){t.origin=s,t.originPoint=F(e.min,e.max,t.origin),t.scale=le(n)/le(e),t.translate=F(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rg&&t.scale<=ig||isNaN(t.scale))&&(t.scale=1),(t.translate>=og&&t.translate<=ag||isNaN(t.translate))&&(t.translate=0)}function tn(t,e,n,s){$o(t.x,e.x,n.x,s?s.originX:void 0),$o(t.y,e.y,n.y,s?s.originY:void 0)}function Fo(t,e,n){t.min=n.min+e.min,t.max=t.min+le(e)}function cg(t,e,n){Fo(t.x,e.x,n.x),Fo(t.y,e.y,n.y)}function Bo(t,e,n){t.min=e.min-n.min,t.max=t.min+le(e)}function nn(t,e,n){Bo(t.x,e.x,n.x),Bo(t.y,e.y,n.y)}const No=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ct=()=>({x:No(),y:No()}),zo=()=>({min:0,max:0}),q=()=>({x:zo(),y:zo()});function me(t){return[t("x"),t("y")]}function $s(t){return t===void 0||t===1}function xr({scale:t,scaleX:e,scaleY:n}){return!$s(t)||!$s(e)||!$s(n)}function nt(t){return xr(t)||Fc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fc(t){return Wo(t.x)||Wo(t.y)}function Wo(t){return t&&t!=="0%"}function Qn(t,e,n){const s=t-n,r=e*s;return n+r}function qo(t,e,n,s,r){return r!==void 0&&(t=Qn(t,r,s)),Qn(t,n,s)+e}function Cr(t,e=0,n=1,s,r){t.min=qo(t.min,e,n,s,r),t.max=qo(t.max,e,n,s,r)}function Bc(t,{x:e,y:n}){Cr(t.x,e.translate,e.scale,e.originPoint),Cr(t.y,n.translate,n.scale,n.originPoint)}const Ko=.999999999999,Ho=1.0000000000001;function ug(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&At(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Bc(t,o)),s&&nt(i.latestValues)&&At(t,i.latestValues))}e.x<Ho&&e.x>Ko&&(e.x=1),e.y<Ho&&e.y>Ko&&(e.y=1)}function Et(t,e){t.min=t.min+e,t.max=t.max+e}function Go(t,e,n,s,r=.5){const i=F(t.min,t.max,r);Cr(t,e,n,i,s)}function At(t,e){Go(t.x,e.x,e.scaleX,e.scale,e.originX),Go(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nc(t,e){return Uc(sg(t.getBoundingClientRect(),e))}function hg(t,e,n){const s=Nc(t,n),{scroll:r}=e;return r&&(Et(s.x,r.offset.x),Et(s.y,r.offset.y)),s}const zc=({current:t})=>t?t.ownerDocument.defaultView:null,Jo=(t,e)=>Math.abs(t-e);function dg(t,e){const n=Jo(t.x,e.x),s=Jo(t.y,e.y);return Math.sqrt(n**2+s**2)}class Wc{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bs(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=dg(h.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=h,{timestamp:g}=te;this.history.push({...p,timestamp:g});const{onStart:y,onMove:m}=this.handlers;d||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fs(d,this.transformPagePoint),B.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Bs(h.type==="pointercancel"?this.lastMoveEventInfo:Fs(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,y),p&&p(h,y)},!mi(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=kn(e),a=Fs(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=te;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Bs(a,this.history)),this.removeListeners=_n(en(this.contextWindow,"pointermove",this.handlePointerMove),en(this.contextWindow,"pointerup",this.handlePointerUp),en(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ge(this.updatePoint)}}function Fs(t,e){return e?{point:e(t.point)}:t}function Yo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bs({point:t},e){return{point:t,delta:Yo(t,qc(e)),offset:Yo(t,fg(e)),velocity:pg(e,.1)}}function fg(t){return t[0]}function qc(t){return t[t.length-1]}function pg(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=qc(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Ce(e)));)n--;if(!s)return{x:0,y:0};const i=Ee(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mg(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?F(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?F(n,t,s.max):Math.min(t,n)),t}function Xo(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gg(t,{top:e,left:n,bottom:s,right:r}){return{x:Xo(t.x,n,r),y:Xo(t.y,e,s)}}function Zo(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function yg(t,e){return{x:Zo(t.x,e.x),y:Zo(t.y,e.y)}}function vg(t,e){let n=.5;const s=le(t),r=le(e);return r>s?n=ln(e.min,e.max-s,t.min):s>r&&(n=ln(t.min,t.max-r,e.min)),Me(0,1,n)}function wg(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Er=.35;function _g(t=Er){return t===!1?t=0:t===!0&&(t=Er),{x:Qo(t,"left","right"),y:Qo(t,"top","bottom")}}function Qo(t,e,n){return{min:ea(t,e),max:ea(t,n)}}function ea(t,e){return typeof t=="number"?t:t[e]||0}const bg=new WeakMap;class Sg{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=q(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kn(c).point)},i=(c,h)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dp(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),me(y=>{let m=this.getAxisMotionValue(y).get()||0;if(Ae.test(m)){const{projection:S}=this.visualElement;if(S&&S.layout){const v=S.layout.layoutBox[y];v&&(m=le(v)*(parseFloat(m)/100))}}this.originPoint[y]=m}),p&&B.postRender(()=>p(c,h)),Pr(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:g}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:y}=h;if(f&&this.currentDirection===null){this.currentDirection=kg(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),g&&g(c,h)},a=(c,h)=>this.stop(c,h),l=()=>me(c=>this.getAnimationState(c)==="paused"&&this.getAxisMotionValue(c).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Wc(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:zc(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&B.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Dn(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=mg(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&xt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=gg(s.layoutBox,e):this.constraints=!1,this.elastic=_g(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&me(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=wg(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xt(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=hg(s,r.root,this.visualElement.getTransformPagePoint());let o=yg(r.layout.layoutBox,i);if(n){const a=n(ng(o));this.hasMutatedConstraints=!!a,a&&(o=Uc(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=me(c=>{if(!Dn(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:s?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Pr(this.visualElement,e),s.start(Ti(e,s,0,n,this.visualElement,!1))}stopAnimation(){me(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){me(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){me(n=>{const{drag:s}=this.getProps();if(!Dn(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-F(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!xt(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};me(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=vg({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),me(o=>{if(!Dn(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(F(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;bg.set(this.visualElement,this);const e=this.visualElement.current,n=en(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();xt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),B.read(s);const o=pn(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(me(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Er,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Dn(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kg(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Pg extends Ye{constructor(e){super(e),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new Sg(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const ta=t=>(e,n)=>{t&&B.postRender(()=>t(e,n))};class Tg extends Ye{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(e){this.session=new Wc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:ta(e),onStart:ta(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&B.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=en(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function na(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(E.test(t))t=parseFloat(t);else return t;const n=na(t,e.target.x),s=na(t,e.target.y);return`${n}% ${s}%`}},xg={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Je.parse(t);if(r.length>5)return s;const i=Je.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=F(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class Cg extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;hm(Eg),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||B.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pi.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kc(t){const[e,n]=vc(),s=_.useContext(qr);return x.jsx(Cg,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(Pc),isPresent:e,safeToRemove:n})}const Eg={borderRadius:{...Wt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomLeftRadius:Wt,borderBottomRightRadius:Wt,boxShadow:xg};function Ag(t,e,n){const s=re(t)?t:It(t);return s.start(Ti("",s,e,n)),s.animation}const jg=(t,e)=>t.depth-e.depth;class Og{constructor(){this.children=[],this.isDirty=!1}add(e){Gr(this.children,e),this.isDirty=!0}remove(e){Jr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jg),this.isDirty=!1,this.children.forEach(e)}}function Rg(t,e){const n=ue.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Ge(s),t(i-e))};return B.setup(s,!0),()=>Ge(s)}const Hc=["TopLeft","TopRight","BottomLeft","BottomRight"],Ig=Hc.length,sa=t=>typeof t=="string"?parseFloat(t):t,ra=t=>typeof t=="number"||E.test(t);function Lg(t,e,n,s,r,i){r?(t.opacity=F(0,n.opacity??1,Mg(s)),t.opacityExit=F(e.opacity??1,0,Dg(s))):i&&(t.opacity=F(e.opacity??1,n.opacity??1,s));for(let o=0;o<Ig;o++){const a=`border${Hc[o]}Radius`;let l=ia(e,a),u=ia(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ra(l)===ra(u)?(t[a]=Math.max(F(sa(l),sa(u),s),0),(Ae.test(u)||Ae.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=F(e.rotate||0,n.rotate||0,s))}function ia(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Mg=Gc(0,.5,$l),Dg=Gc(.5,.95,ye);function Gc(t,e,n){return s=>s<t?0:s>e?1:n(ln(t,e,s))}function oa(t,e){t.min=e.min,t.max=e.max}function pe(t,e){oa(t.x,e.x),oa(t.y,e.y)}function aa(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function la(t,e,n,s,r){return t-=e,t=Qn(t,1/n,s),r!==void 0&&(t=Qn(t,1/r,s)),t}function Ug(t,e=0,n=1,s=.5,r,i=t,o=t){if(Ae.test(e)&&(e=parseFloat(e),e=F(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=F(i.min,i.max,s);t===i&&(a-=e),t.min=la(t.min,e,n,a,r),t.max=la(t.max,e,n,a,r)}function ca(t,e,[n,s,r],i,o){Ug(t,e[n],e[s],e[r],e.scale,i,o)}const Vg=["x","scaleX","originX"],$g=["y","scaleY","originY"];function ua(t,e,n,s){ca(t.x,e,Vg,n?n.x:void 0,s?s.x:void 0),ca(t.y,e,$g,n?n.y:void 0,s?s.y:void 0)}function ha(t){return t.translate===0&&t.scale===1}function Jc(t){return ha(t.x)&&ha(t.y)}function da(t,e){return t.min===e.min&&t.max===e.max}function Fg(t,e){return da(t.x,e.x)&&da(t.y,e.y)}function fa(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Yc(t,e){return fa(t.x,e.x)&&fa(t.y,e.y)}function pa(t){return le(t.x)/le(t.y)}function ma(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bg{constructor(){this.members=[]}add(e){Gr(this.members,e),e.scheduleRender()}remove(e){if(Jr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ng(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=n?.z||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:p}=n;u&&(s=`perspective(${u}px) ${s}`),c&&(s+=`rotate(${c}deg) `),h&&(s+=`rotateX(${h}deg) `),d&&(s+=`rotateY(${d}deg) `),f&&(s+=`skewX(${f}deg) `),p&&(s+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const Ns=["","X","Y","Z"],zg={visibility:"hidden"},Wg=1e3;let qg=0;function zs(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Xc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ic(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",B,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Xc(s)}function Zc({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e?.()){this.id=qg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gg),this.nodes.forEach(Qg),this.nodes.forEach(ey),this.nodes.forEach(Jg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Og)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zr),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=yc(o)&&!Np(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=Rg(h,250),Hn.hasAnimatedSinceResize&&(Hn.hasAnimatedSinceResize=!1,this.nodes.forEach(ya))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||iy,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),m=!this.targetLayout||!Yc(this.targetLayout,f),S=!h&&d;if(this.options.layoutRoot||this.resumeFrom||S||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,S);const v={...di(p,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else h||ya(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ge(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ty),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ga);return}this.isUpdating||this.nodes.forEach(Xg),this.isUpdating=!1,this.nodes.forEach(Zg),this.nodes.forEach(Kg),this.nodes.forEach(Hg),this.clearAllSnapshots();const a=ue.now();te.delta=Me(0,1e3/60,a-te.timestamp),te.timestamp=a,te.isProcessing=!0,Ls.update.process(te),Ls.preRender.process(te),Ls.render.process(te),te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yg),this.sharedNodes.forEach(ny)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,B.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){B.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!le(this.snapshot.measuredBox.x)&&!le(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=q(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Jc(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||nt(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oy(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return q();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ay))){const{scroll:u}=this.root;u&&(Et(a.x,u.offset.x),Et(a.y,u.offset.y))}return a}removeElementScroll(o){const a=q();if(pe(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;u!==this.root&&c&&h.layoutScroll&&(c.wasRoot&&pe(a,o),Et(a.x,c.offset.x),Et(a.y,c.offset.y))}return a}applyTransform(o,a=!1){const l=q();pe(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&At(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),nt(c.latestValues)&&At(l,c.latestValues)}return nt(this.latestValues)&&At(l,this.latestValues),l}removeTransform(o){const a=q();pe(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!nt(u.latestValues))continue;xr(u.latestValues)&&u.updateSnapshot();const c=q(),h=u.measurePageBox();pe(c,h),ua(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return nt(this.latestValues)&&ua(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=te.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=q(),this.relativeTargetOrigin=q(),nn(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=q(),this.targetWithTransforms=q()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pe(this.target,this.layout.layoutBox),Bc(this.target,this.targetDelta)):pe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=q(),this.relativeTargetOrigin=q(),nn(this.relativeTargetOrigin,this.target,d.target),pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||xr(this.parent.latestValues)||Fc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===te.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;pe(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;ug(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=q());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aa(this.prevProjectionDelta.x,this.projectionDelta.x),aa(this.prevProjectionDelta.y,this.projectionDelta.y)),tn(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!ma(this.projectionDelta.x,this.prevProjectionDelta.x)||!ma(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ct(),this.projectionDelta=Ct(),this.projectionDeltaWithTransform=Ct()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Ct();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=q(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,y=this.getStack(),m=!y||y.members.length<=1,S=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(ry));this.animationProgress=0;let v;this.mixTargetDelta=T=>{const b=T/1e3;va(h.x,o.x,b),va(h.y,o.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nn(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sy(this.relativeTarget,this.relativeTargetOrigin,d,b),v&&Fg(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=q()),pe(v,this.relativeTarget)),g&&(this.animationValues=c,Lg(c,u,this.latestValues,b,S,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Ge(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=B.update(()=>{Hn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=It(0)),this.currentAnimation=Ag(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wg),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Qc(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||q();const h=le(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=le(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}pe(a,l),At(a,c),tn(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bg),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&zs("z",o,u,this.animationValues);for(let c=0;c<Ns.length;c++)zs(`rotate${Ns[c]}`,o,u,this.animationValues),zs(`skew${Ns[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zg;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Kn(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Kn(o?.pointerEvents)||""),this.hasProjected&&!nt(this.latestValues)&&(f.transform=l?l({},""):"none",this.hasProjected=!1),f}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=Ng(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:h,y:d}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${d.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const f in dn){if(c[f]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:y}=dn[f],m=a.transform==="none"?c[f]:p(c[f],u);if(g){const S=g.length;for(let v=0;v<S;v++)a[g[v]]=m}else y?this.options.visualElement.renderState.vars[f]=m:a[f]=m}return this.options.layoutId&&(a.pointerEvents=u===this?Kn(o?.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(ga),this.root.sharedNodes.clear()}}}function Kg(t){t.updateLayout()}function Hg(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:r}=t.options,i=e.source!==t.layout.source;r==="size"?me(c=>{const h=i?e.measuredBox[c]:e.layoutBox[c],d=le(h);h.min=n[c].min,h.max=h.min+d}):Qc(r,e.layoutBox,n)&&me(c=>{const h=i?e.measuredBox[c]:e.layoutBox[c],d=le(n[c]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+d)});const o=Ct();tn(o,n,e.layoutBox);const a=Ct();i?tn(a,t.applyTransform(s,!0),e.measuredBox):tn(a,n,e.layoutBox);const l=!Jc(o);let u=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:h,layout:d}=c;if(h&&d){const f=q();nn(f,e.layoutBox,h.layoutBox);const p=q();nn(p,n,d.layoutBox),Yc(f,p)||(u=!0),c.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=f,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Gg(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Jg(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yg(t){t.clearSnapshot()}function ga(t){t.clearMeasurements()}function Xg(t){t.isLayoutDirty=!1}function Zg(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ya(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Qg(t){t.resolveTargetDelta()}function ey(t){t.calcProjection()}function ty(t){t.resetSkewAndRotation()}function ny(t){t.removeLeadSnapshot()}function va(t,e,n){t.translate=F(e.translate,0,n),t.scale=F(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wa(t,e,n,s){t.min=F(e.min,n.min,s),t.max=F(e.max,n.max,s)}function sy(t,e,n,s){wa(t.x,e.x,n.x,s),wa(t.y,e.y,n.y,s)}function ry(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iy={duration:.45,ease:[.4,0,.1,1]},_a=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ba=_a("applewebkit/")&&!_a("chrome/")?Math.round:ye;function Sa(t){t.min=ba(t.min),t.max=ba(t.max)}function oy(t){Sa(t.x),Sa(t.y)}function Qc(t,e,n){return t==="position"||t==="preserve-aspect"&&!lg(pa(e),pa(n),.2)}function ay(t){return t!==t.root&&t.scroll?.wasRoot}const ly=Zc({attachResizeListener:(t,e)=>pn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ws={current:void 0},eu=Zc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ws.current){const t=new ly({});t.mount(window),t.setOptions({layoutScroll:!0}),Ws.current=t}return Ws.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cy={pan:{Feature:Tg},drag:{Feature:Pg,ProjectionNode:eu,MeasureLayout:Kc}};function ka(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&B.postRender(()=>i(e,kn(e)))}class uy extends Ye{mount(){const{current:e}=this.node;e&&(this.unmount=Up(e,(n,s)=>(ka(this.node,s,"Start"),r=>ka(this.node,r,"End"))))}unmount(){}}class hy extends Ye{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_n(pn(this.node.current,"focus",()=>this.onFocus()),pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pa(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&B.postRender(()=>i(e,kn(e)))}class dy extends Ye{mount(){const{current:e}=this.node;e&&(this.unmount=Bp(e,(n,s)=>(Pa(this.node,s,"Start"),(r,{success:i})=>Pa(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ar=new WeakMap,qs=new WeakMap,fy=t=>{const e=Ar.get(t.target);e&&e(t)},py=t=>{t.forEach(fy)};function my({root:t,...e}){const n=t||document;qs.has(n)||qs.set(n,{});const s=qs.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(py,{root:t,...e})),s[r]}function gy(t,e,n){const s=my(e);return Ar.set(t,n),s.observe(t),()=>{Ar.delete(t),s.unobserve(t)}}const yy={some:0,all:1};class vy extends Ye{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:yy[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return gy(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wy(e,n))&&this.startObserver()}unmount(){}}function wy({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _y={inView:{Feature:vy},tap:{Feature:dy},focus:{Feature:hy},hover:{Feature:uy}},by={layout:{ProjectionNode:eu,MeasureLayout:Kc}},jr={current:null},tu={current:!1};function Sy(){if(tu.current=!0,!!Hr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jr.current=t.matches;t.addListener(e),e()}else jr.current=!1}const ky=new WeakMap;function Py(t,e,n){for(const s in e){const r=e[s],i=n[s];if(re(r))t.addValue(s,r);else if(re(i))t.addValue(s,It(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,It(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Ta=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ty{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ui,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ue.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,B.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ds(n),this.isVariantNode=Sc(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&re(f)&&f.set(l[d],!1)}}mount(e){this.current=e,ky.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),tu.current||Sy(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ge(this.notifyUpdate),Ge(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=$t.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&B.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lt){const n=Lt[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):q()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ta.length;s++){const r=Ta[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Py(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=It(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Al(s)||Ol(s))?s=parseFloat(s):!Wp(s)&&Je.test(n)&&(s=dc(e,n)),this.setBaseTarget(e,re(s)?s.get():s)),re(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=ki(this.props,n,this.presenceContext?.custom);i&&(s=i[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!re(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zr),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nu extends Ty{constructor(){super(...arguments),this.KeyframeResolver=Rp}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;re(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function su(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function xy(t){return window.getComputedStyle(t)}class Cy extends nu{constructor(){super(...arguments),this.type="html",this.renderInstance=su}readValueFromInstance(e,n){if($t.has(n))return this.projection?.isProjecting?yr(n):Xf(e,n);{const s=xy(e),r=(ti(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Nc(e,n)}build(e,n,s){_i(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Pi(e,n,s)}}const ru=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ey(t,e,n,s){su(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(ru.has(r)?r:wi(r),e.attrs[r])}class Ay extends nu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=q}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($t.has(n)){const s=hc(n);return s&&s.default||0}return n=ru.has(n)?n:wi(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Rc(e,n,s)}build(e,n,s){Ec(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Ey(e,n,s,r)}mount(e){this.isSVGTag=jc(e.tagName),super.mount(e)}}const jy=(t,e)=>Si(t)?new Ay(e):new Cy(e,{allowProjection:t!==_.Fragment}),Oy=Em({...eg,..._y,...cy,...by},jy),Or=Qp(Oy);function Ry(){const{user:t}=ed(),[e,n]=_.useState(!1),[s,r]=_.useState(!1),[i,o]=_.useState("");_.useEffect(()=>{typeof window<"u"&&o(window.location.pathname)},[]);const a=l=>i===l?"text-purple-600 underline":"text-gray-700 hover:text-purple-600";return x.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-white shadow-md text-black flex justify-between items-center px-6 py-4",children:[x.jsx("a",{href:"/",className:"flex items-center gap-2 text-xl font-bold",children:x.jsxs("span",{className:"font-extrabold text-xl tracking-tight text-purple-700",children:["Champions ",x.jsx("span",{className:"text-gray-800",children:"Burger"})]})}),x.jsx("button",{className:"lg:hidden text-2xl focus:outline-none",onClick:()=>r(!s),children:s?"✖️":"☰"}),x.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[x.jsx("a",{href:"/burger",className:`text-sm font-medium ${a("/burger")}`,children:"Burgers"}),t&&x.jsx("a",{href:"/misburgers",className:`text-sm font-medium ${a("/misburgers")}`,children:"Mis Burgers"}),x.jsx(Es,{children:x.jsx("button",{onClick:()=>n(!0),className:"text-sm font-medium bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition",children:"Iniciar sesión"})}),x.jsx(Qi,{children:x.jsx(uo,{afterSignOutUrl:i})})]}),x.jsx(Es,{children:e&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:x.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg relative",children:[x.jsx("button",{onClick:()=>n(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"❌"}),x.jsx(Ud,{redirectUrl:i,appearance:{elements:{card:"shadow-xl rounded-xl",headerTitle:"text-2xl font-bold text-center",socialButtonsBlockButton:"bg-black hover:bg-gray-800 text-white",formFieldLabel:"text-gray-700",formButtonPrimary:"bg-purple-600 hover:bg-purple-700 text-white"}}})]})})}),x.jsx(wc,{children:s&&x.jsxs(x.Fragment,{children:[x.jsx(Or.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1)},"overlay"),x.jsxs(Or.div,{className:"fixed top-0 right-0 w-64 h-full bg-white shadow-lg z-50 p-6 flex flex-col gap-6",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3},children:[x.jsx("button",{className:"self-end text-gray-500 hover:text-gray-700 text-2xl",onClick:()=>r(!1),children:"❌"}),x.jsx("a",{href:"/burger",className:`${a("/burger")} text-lg transition-colors`,onClick:()=>r(!1),children:"🍔 Burgers"}),t&&x.jsx("a",{href:"/misburgers",className:`${a("/misburgers")} text-lg transition-colors`,onClick:()=>r(!1),children:"⭐ Mis Burgers"}),x.jsx(Es,{children:x.jsx("button",{onClick:()=>{n(!0),r(!1)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition text-sm",children:"Iniciar sesión"})}),x.jsx(Qi,{children:x.jsx("div",{className:"pt-4",children:x.jsx(uo,{afterSignOutUrl:i})})})]},"sidebar")]})})]})}function Iy(){return x.jsx("footer",{className:"mt-16 py-6 border-t border-gray-200 bg-white text-center text-sm text-gray-500",children:x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx("p",{children:"© 2025 Champions Burger. Todos los derechos reservados 🍔"}),x.jsxs("p",{children:["Desarrollado con ",x.jsx("span",{className:"text-red-500",children:"❤️"})," por"," ",x.jsx("a",{href:"https://github.com/aleexrguez",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"Alex Rodríguez"}),x.jsx("span",{children:",  "}),x.jsx("a",{href:"https://github.com/lygarmo",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"Lydia García"}),x.jsx("span",{children:",  "}),x.jsx("a",{href:"https://github.com/natachamar",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"Natacha del Mar"})]})]})})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),xa=t=>{const e=My(t);return e.charAt(0).toUpperCase()+e.slice(1)},iu=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Dy=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...Uy,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:iu("lucide",r),...!i&&!Dy(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>_.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=(t,e)=>{const n=_.forwardRef(({className:s,...r},i)=>_.createElement(Vy,{ref:i,iconNode:e,className:iu(`lucide-${Ly(xa(t))}`,`lucide-${t}`,s),...r}));return n.displayName=xa(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],By=$y("chevron-up",Fy);function Ny(){const[t,e]=_.useState(!1);_.useEffect(()=>{const s=()=>{e(window.scrollY>400)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return x.jsx(wc,{children:t&&x.jsx(Or.button,{onClick:n,initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.3},className:"fixed bottom-6 right-6 z-50 p-3 rounded-full bg-purple-600 text-white shadow-lg hover:bg-purple-700 focus:outline-none","aria-label":"Volver arriba",children:x.jsx(By,{className:"w-5 h-5"})})})}const zy="pk_test_cG9zc2libGUtYmF0LTk4LmNsZXJrLmFjY291bnRzLmRldiQ";function tw({children:t}){return x.jsx(Cl,{publishableKey:zy,children:x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx(Ry,{}),x.jsx("main",{className:"flex-1 w-full",children:t}),x.jsx(Ny,{}),x.jsx(Iy,{})]})})}const Wy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Ft);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class xi extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class qy extends xi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ky extends xi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hy extends xi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rr||(Rr={}));var Gy=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Jy{constructor(e,{headers:n={},customFetch:s,region:r=Rr.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Wy(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Gy(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(p=>{throw new qy(p)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Ky(c);if(!c.ok)throw new Hy(c);let d=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield c.json():d==="application/octet-stream"?f=yield c.blob():d==="text/event-stream"?f=c:d==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var X={},pt={},mt={},gt={},yt={},vt={},Yy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mt=Yy();const Xy=Mt.fetch,ou=Mt.fetch.bind(Mt),au=Mt.Headers,Zy=Mt.Request,Qy=Mt.Response,Ft=Object.freeze(Object.defineProperty({__proto__:null,Headers:au,Request:Zy,Response:Qy,default:ou,fetch:Xy},Symbol.toStringTag,{value:"Module"})),ev=Du(Ft);var Un={},Ca;function lu(){if(Ca)return Un;Ca=1,Object.defineProperty(Un,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Un.default=t,Un}var Ea;function cu(){if(Ea)return vt;Ea=1;var t=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});const e=t(ev),n=t(lu());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let f=null,p=null,g=null,y=u.status,m=u.statusText;if(u.ok){if(this.method!=="HEAD"){const b=await u.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=b:p=JSON.parse(b))}const v=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),T=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&T&&T.length>1&&(g=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,m="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const v=await u.text();try{f=JSON.parse(v),Array.isArray(f)&&u.status===404&&(p=[],f=null,y=200,m="OK")}catch{u.status===404&&v===""?(y=204,m="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((d=f?.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,y=200,m="OK"),f&&this.shouldThrowOnError)throw new n.default(f)}return{error:f,data:p,count:g,status:y,statusText:m}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return vt.default=s,vt}var Aa;function uu(){if(Aa)return yt;Aa=1;var t=yt&&yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yt,"__esModule",{value:!0});const e=t(cu());class n extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yt.default=n,yt}var ja;function Ci(){if(ja)return gt;ja=1;var t=gt&&gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(gt,"__esModule",{value:!0});const e=t(uu());class n extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return gt.default=n,gt}var Oa;function hu(){if(Oa)return mt;Oa=1;var t=mt&&mt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mt,"__esModule",{value:!0});const e=t(Ci());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const h=r.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mt.default=n,mt}var qt={},Kt={},Ra;function tv(){return Ra||(Ra=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.version=void 0,Kt.version="0.0.0-automated"),Kt}var Ia;function nv(){if(Ia)return qt;Ia=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.DEFAULT_HEADERS=void 0;const t=tv();return qt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},qt}var La;function sv(){if(La)return pt;La=1;var t=pt&&pt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pt,"__esModule",{value:!0});const e=t(hu()),n=t(Ci()),s=nv();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let f;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{d.searchParams.append(g,y)})):(h="POST",f=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new n.default({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return pt.default=r,pt}var Ma;function rv(){if(Ma)return X;Ma=1;var t=X&&X.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(X,"__esModule",{value:!0}),X.PostgrestError=X.PostgrestBuilder=X.PostgrestTransformBuilder=X.PostgrestFilterBuilder=X.PostgrestQueryBuilder=X.PostgrestClient=void 0;const e=t(sv());X.PostgrestClient=e.default;const n=t(hu());X.PostgrestQueryBuilder=n.default;const s=t(Ci());X.PostgrestFilterBuilder=s.default;const r=t(uu());X.PostgrestTransformBuilder=r.default;const i=t(cu());X.PostgrestBuilder=i.default;const o=t(lu());return X.PostgrestError=o.default,X.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},X}var iv=rv();const ov=Uu(iv),{PostgrestClient:av,PostgrestQueryBuilder:nw,PostgrestFilterBuilder:sw,PostgrestTransformBuilder:rw,PostgrestBuilder:iw,PostgrestError:ow}=ov,lv="2.11.2",cv={"X-Client-Info":`realtime-js/${lv}`},uv="1.0.0",du=1e4,hv=1e3;var jt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jt||(jt={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(be||(be={}));var Ir;(function(t){t.websocket="websocket"})(Ir||(Ir={}));var rt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rt||(rt={}));class dv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class fu{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(D||(D={}));const Da=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=fv(o,t,e,r),i),{})},fv=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r?.type,o=n[t];return i&&!s.includes(i)?pu(i,o):Lr(o)},pu=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yv(e,n)}switch(t){case D.bool:return pv(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return mv(e);case D.json:case D.jsonb:return gv(e);case D.timestamp:return vv(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return Lr(e);default:return Lr(e)}},Lr=t=>t,pv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>pu(e,a))}return t},vv=t=>typeof t=="string"?t.replace(" ","T"):t,mu=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ks{constructor(e,n,s={},r=du){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ua;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ua||(Ua={}));class sn{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=sn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=sn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),p=c.filter(y=>f.indexOf(y.presence_ref)<0),g=h.filter(y=>d.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Va;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Va||(Va={}));var $a;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($a||($a={}));var Ie;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ie||(Ie={}));class Ei{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ks(this,be.join,this.params,this.timeout),this.rejoinTimer=new fu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(be.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new sn(this),this.broadcastEndpointURL=mu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e?.(Ie.CHANNEL_ERROR,c)),this._onClose(()=>e?.(Ie.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e?.(Ie.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d?.length)!==null&&h!==void 0?h:0,p=[];for(let g=0;g<f;g++){const y=d[g],{filter:{event:m,schema:S,table:v,filter:T}}=y,b=c&&c[g];if(b&&b.event===m&&b.schema===S&&b.table===v&&b.filter===T)p.push(Object.assign(Object.assign({},y),{id:b.id}));else{this.unsubscribe(),e?.(Ie.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Ie.SUBSCRIBED);return}}).receive("error",c=>{e?.(Ie.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ie.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new Ks(this,be.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ks(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=be;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,g,y,m,S,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,b=(p=f.filter)===null||p===void 0?void 0:p.event;return T&&((g=n.ids)===null||g===void 0?void 0:g.includes(T))&&(b==="*"||b?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const T=(S=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((v=n?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:g,table:y,commit_timestamp:m,type:S,errors:v}=p;d=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:m,eventType:S,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(d,s)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ei.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(be.close,{},e)}_onError(e){this._on(be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Da(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Da(e.columns,e.old_record)),n}}const wv=()=>{},_v=typeof WebSocket<"u",bv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sv{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cv,this.params={},this.timeout=du,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wv,this.conn=null,this.sendBuffer=[],this.serializer=new dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ot(async()=>{const{default:l}=await Promise.resolve().then(()=>Ft);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ir.websocket}`,this.httpEndpoint=mu(e),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n?.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fu(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_v){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new kv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ot(async()=>{const{default:e}=await import("./browser.BkaKviuj.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case jt.connecting:return rt.Connecting;case jt.open:return rt.Open;case jt.closing:return rt.Closing;default:return rt.Closed}}isConnected(){return this.connectionState()===rt.Open}channel(e,n={config:{}}){const s=new Ei(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(be.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(hv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([bv],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class kv{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Ai extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Pv extends Ai{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mr extends Ai{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Tv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const gu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Ft);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},xv=()=>Tv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ot(()=>Promise.resolve().then(()=>Ft),void 0)).Response:Response}),Dr=t=>{if(Array.isArray(t))return t.map(n=>Dr(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Dr(s)}),e};var ct=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Hs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cv=(t,e,n)=>ct(void 0,void 0,void 0,function*(){const s=yield xv();t instanceof s&&!n?.noResolveJson?t.json().then(r=>{e(new Pv(Hs(r),t.status||500))}).catch(r=>{e(new Mr(Hs(r),r))}):e(new Mr(Hs(t),t))}),Ev=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Pn(t,e,n,s,r,i){return ct(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ev(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Cv(l,a,s))})})}function es(t,e,n,s){return ct(this,void 0,void 0,function*(){return Pn(t,"GET",e,n,s)})}function qe(t,e,n,s,r){return ct(this,void 0,void 0,function*(){return Pn(t,"POST",e,s,r,n)})}function Av(t,e,n,s,r){return ct(this,void 0,void 0,function*(){return Pn(t,"PUT",e,s,r,n)})}function jv(t,e,n,s){return ct(this,void 0,void 0,function*(){return Pn(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function yu(t,e,n,s,r){return ct(this,void 0,void 0,function*(){return Pn(t,"DELETE",e,s,r,n)})}var ce=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Ov={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rv{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=gu(r)}uploadOrUpdate(e,n,s,r){return ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fa),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}upload(e,n,s){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Fa.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(Z(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n?.upsert&&(r["x-upsert"]="true");const i=yield qe(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ai("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}update(e,n,s){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return ce(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}copy(e,n,s){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield qe(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return ce(this,void 0,void 0,function*(){try{const r=yield qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}download(e,n){return ce(this,void 0,void 0,function*(){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield es(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}})}info(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield es(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dr(s),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}exists(e){return ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Z(s)&&s instanceof Mr){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield yu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}list(e,n,s){return ce(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Ov),n),{prefix:e||""});return{data:yield qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Iv="2.7.1",Lv={"X-Client-Info":`storage-js/${Iv}`};var wt=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Mv{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},Lv),n),this.fetch=gu(s)}listBuckets(){return wt(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}getBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return wt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return wt(this,void 0,void 0,function*(){try{return{data:yield Av(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}emptyBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield yu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}}class Dv extends Mv{constructor(e,n={},s){super(e,n,s)}from(e){return new Rv(this.url,this.headers,e,this.fetch)}}const Uv="2.49.4";let Gt="";typeof Deno<"u"?Gt="deno":typeof document<"u"?Gt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gt="react-native":Gt="node";const Vv={"X-Client-Info":`supabase-js-${Gt}/${Uv}`},$v={headers:Vv},Fv={schema:"public"},Bv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nv={};var zv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Wv=t=>{let e;return t?e=t:typeof fetch>"u"?e=ou:e=fetch,(...n)=>e(...n)},qv=()=>typeof Headers>"u"?au:Headers,Kv=(t,e,n)=>{const s=Wv(n),r=qv();return(i,o)=>zv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hv=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function Gv(t){return t.replace(/\/$/,"")}function Jv(t,e){const{db:n,auth:s,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>Hv(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const vu="2.69.1",Pt=30*1e3,Ur=3,Gs=Ur*Pt,Yv="http://localhost:9999",Xv="supabase.auth.token",Zv={"X-Client-Info":`gotrue-js/${vu}`},Vr="X-Supabase-Api-Version",wu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,e0=6e5;class ji extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function j(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class t0 extends ji{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function n0(t){return j(t)&&t.name==="AuthApiError"}class _u extends ji{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xe extends ji{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class Be extends Xe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s0(t){return j(t)&&t.name==="AuthSessionMissingError"}class Js extends Xe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vn extends Xe{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $n extends Xe{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r0(t){return j(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ba extends Xe{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $r extends Xe{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ys(t){return j(t)&&t.name==="AuthRetryableFetchError"}class Na extends Xe{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class rn extends Xe{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wa=` 	
\r=`.split(""),i0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wa.length;e+=1)t[Wa[e].charCodeAt(0)]=-2;for(let e=0;e<za.length;e+=1)t[za[e].charCodeAt(0)]=e;return t})();function bu(t,e,n){const s=i0[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qa(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{l0(o,s,n)};for(let o=0;o<t.length;o+=1)bu(t.charCodeAt(o),r,i);return e.join("")}function o0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a0(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}o0(s,e)}}function l0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function c0(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)bu(t.charCodeAt(r),n,s);return new Uint8Array(e)}function u0(t){const e=[];return a0(t,n=>e.push(n)),new Uint8Array(e)}function h0(t){return Math.round(Date.now()/1e3)+t}function d0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Te=()=>typeof window<"u"&&typeof document<"u",et={tested:!1,writable:!1},on=()=>{if(!Te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(et.tested)return et.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),et.tested=!0,et.writable=!0}catch{et.tested=!0,et.writable=!1}return et.writable};function f0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Su=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ot(async()=>{const{default:s}=await Promise.resolve().then(()=>Ft);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},p0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ku=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bn=async(t,e)=>{await t.removeItem(e)};class fs{constructor(){this.promise=new fs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fs.promiseConstructor=Promise;function Xs(t){const e=t.split(".");if(e.length!==3)throw new rn("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Qv.test(e[s]))throw new rn("JWT not in base64url format");return{header:JSON.parse(qa(e[0])),payload:JSON.parse(qa(e[1])),signature:c0(e[2]),raw:{header:e[0],payload:e[1]}}}async function m0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function g0(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function y0(t){return("0"+t.toString(16)).substr(-2)}function v0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,y0).join("")}async function w0(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function _0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await w0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _t(t,e,n=!1){const s=v0();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await ku(t,`${e}-code-verifier`,r);const i=await _0(s);return[i,s===i?"plain":"s256"]}const b0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S0(t){const e=t.headers.get(Vr);if(!e||!e.match(b0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var T0=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const st=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),x0=[502,503,504];async function Ka(t){var e;if(!p0(t))throw new $r(st(t),0);if(x0.includes(t.status))throw new $r(st(t),t.status);let n;try{n=await t.json()}catch(i){throw new _u(st(i),i)}let s;const r=S0(t);if(r&&r.getTime()>=wu["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Na(st(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Na(st(n),t.status,n.weak_password.reasons);throw new t0(st(n),t.status||500,s)}const C0=(t,e,n,s)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function I(t,e,n,s){var r;const i=Object.assign({},s?.headers);i[Vr]||(i[Vr]=wu["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await E0(t,e,n+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function E0(t,e,n,s,r,i){const o=C0(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new $r(st(l),0)}if(a.ok||await Ka(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await Ka(l)}}function Ne(t){var e;let n=null;R0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=h0(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Ha(t){const e=Ne(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ke(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function A0(t){return{data:t,error:null}}function j0(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=T0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function O0(t){return t}function R0(t){return t.access_token&&t.refresh_token&&t.expires_in}var I0=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class L0{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Su(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(j(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ke})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=I0(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:j0,redirectTo:n?.redirectTo})}catch(n){if(j(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ke})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:O0});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ke})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ke})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ke})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}}const M0={getItem:t=>on()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{on()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{on()&&globalThis.localStorage.removeItem(t)}};function Ga(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function D0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bt={debug:!!(globalThis&&on()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U0 extends Pu{}async function V0(t,e,n){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}D0();const $0={url:Yv,storageKey:Xv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ja(t,e,n){return await n()}class mn{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mn.nextInstanceID,mn.nextInstanceID+=1,this.instanceID>0&&Te()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},$0),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new L0({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Su(r.fetch),this.lock=r.lock||Ja,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Te()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=V0:this.lock=Ja,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:on()?this.storage=M0:(this.memoryStorage={},this.storage=Ga(this.memoryStorage)):(this.memoryStorage={},this.storage=Ga(this.memoryStorage)),Te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vu}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=f0(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Te()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return j(n)?{error:n}:{error:new _u("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ne}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(j(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await _t(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:c,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ne})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(r=d?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ne})}else throw new Vn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(j(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ha})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ha})}else throw new Vn("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Js}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ne});if(await Bn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Js}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(j(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ne}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Js}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await _t(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new Vn("You must provide either an email or phone number.")}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ne});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _t(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:A0})}catch(i){if(j(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Be;const{error:r}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(j(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Vn("You must provide either an email or phone number and a type")}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Gs:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ke}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ke})})}catch(n){if(j(n))return s0(n)&&(await this._removeSession(),await Bn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Be;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await _t(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ke});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(j(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Be;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=Xs(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(j(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Be;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Te())throw new $n("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $n(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ba("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $n("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ba("No code detected.");const{data:S,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new $n("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const f=d-c;f*1e3<=Pt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const m={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(s){if(j(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(n0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Bn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=d0(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await _t(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(j(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Te()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(j(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await g0(async r=>(r>0&&await m0(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ne})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Ys(i)&&Date.now()+o-s<Pt})}catch(s){if(this._debug(n,"error",s),j(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Te()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Fn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Gs;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${Gs}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Ys(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new fs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),j(i)){const o={session:null,error:i};return Ys(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ku(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Bn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Te()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Pt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Pt}ms, refresh threshold is ${Ur} ticks`),r<=Ur&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Te()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await _t(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(j(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(j(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xs(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+e0>Date.now()))return s;const{data:r,error:i}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new rn("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===e),!s)throw new rn("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};s=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Xs(s);if(k0(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const u=P0(r.alg),c=await this.fetchJwk(r.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,u0(`${a}.${l}`)))throw new rn("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(j(s))return{data:null,error:s};throw s}}}mn.nextInstanceID=0;const F0=mn;class B0 extends F0{constructor(e){super(e)}}var N0=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class z0{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Gv(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Fv,realtime:Nv,auth:Object.assign(Object.assign({},Bv),{storageKey:l}),global:$v},c=Jv(s??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Kv(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new av(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Jy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dv(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return N0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B0({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Sv(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W0=(t,e,n)=>new z0(t,e,n),q0="https://igaxrzmkbvlnsyiahpqx.supabase.co",K0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnYXhyem1rYnZsbnN5aWFocHF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMzg0OTAsImV4cCI6MjA2MjcxNDQ5MH0.7I85_t29KRtzcrpTJnvrfg6Ox3TLQ3YR0enKzs1L-v4",aw=W0(q0,K0);export{wc as A,Es as S,Qi as a,tw as b,$y as c,Ud as d,x as j,Or as m,aw as s,ed as u};
